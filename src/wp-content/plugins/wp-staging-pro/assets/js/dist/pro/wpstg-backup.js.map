{"version":3,"file":"wpstg-backup.js","sources":["../../src/modules/wpstg-hover-intent.js","../../src/wpstg.js","../../src/modules/wpstg-polyfill.js","../../src/modules/wpstg-dom-utils.js","../../../node_modules/regenerator-runtime/runtime.js","../../src/pro/modules/wpstg-backup.js","../../src/pro/modules/wpstg-backup-create.js","../../src/pro/modules/wpstg-backup-delete.js","../../src/pro/modules/wpstg-backup-edit.js","../../src/pro/modules/wpstg-backup-restore.js","../../src/pro/modules/wpstg-backup-upload.js","../../src/pro/modules/wpstg-backup-manage-schedules.js"],"sourcesContent":["'use strict';\n\n/**\n * This is a namespaced port of https://github.com/tristen/hoverintent,\n * with slight modification to accept selector with dynamically added element in dom,\n * instead of just already present element.\n *\n * @param {HTMLElement} parent\n * @param {string} selector\n * @param {CallableFunction} onOver\n * @param {CallableFunction} onOut\n *\n * @return {object}\n */\nexport default function(parent, selector, onOver, onOut) {\n  let x; let y; let pX; let pY;\n  let mouseOver = false;\n  let focused = false;\n  const h = {};\n  let state = 0;\n  let timer = 0;\n\n  let options = {\n    sensitivity: 7,\n    interval: 100,\n    timeout: 0,\n    handleFocus: false,\n  };\n\n  function delay(el, e) {\n    if (timer) {\n      timer = clearTimeout(timer);\n    }\n\n    state = 0;\n    return focused ? undefined : onOut(el, e);\n  }\n\n  function tracker(e) {\n    x = e.clientX;\n    y = e.clientY;\n  }\n\n  function compare(el, e) {\n    if (timer) timer = clearTimeout(timer);\n    if ((Math.abs(pX - x) + Math.abs(pY - y)) < options.sensitivity) {\n      state = 1;\n      return focused ? undefined : onOver(el, e);\n    } else {\n      pX = x;\n      pY = y;\n      timer = setTimeout(function() {\n        compare(el, e);\n      }, options.interval);\n    }\n  }\n\n  // Public methods\n  h.options = function(opt) {\n    const focusOptionChanged = opt.handleFocus !== options.handleFocus;\n    options = Object.assign({}, options, opt);\n    if (focusOptionChanged) {\n            options.handleFocus ? addFocus() : removeFocus();\n    }\n\n    return h;\n  };\n\n  function dispatchOver(el, e) {\n    mouseOver = true;\n    if (timer) {\n      timer = clearTimeout(timer);\n    }\n\n    el.removeEventListener('mousemove', tracker, false);\n\n    if (state !== 1) {\n      pX = e.clientX;\n      pY = e.clientY;\n\n      el.addEventListener('mousemove', tracker, false);\n\n      timer = setTimeout(function() {\n        compare(el, e);\n      }, options.interval);\n    }\n\n    return this;\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchOver to support dynamically added elements to dom\n   */\n  function onMouseOver(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchOver(event.target.closest(selector), event);\n    }\n  };\n\n  function dispatchOut(el, e) {\n    mouseOver = false;\n    if (timer) {\n      timer = clearTimeout(timer);\n    }\n\n    el.removeEventListener('mousemove', tracker, false);\n\n    if (state === 1) {\n      timer = setTimeout(function() {\n        delay(el, e);\n      }, options.timeout);\n    }\n\n    return this;\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchOut to support dynamically added elements to dom\n   */\n  function onMouseOut(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchOut(event.target.closest(selector), event);\n    }\n  };\n\n  function dispatchFocus(el, e) {\n    if (!mouseOver) {\n      focused = true;\n      onOver(el, e);\n    }\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchFocus to support dynamically added elements to dom\n   */\n  function onFocus(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchFocus(event.target.closest(selector), event);\n    }\n  };\n\n  function dispatchBlur(el, e) {\n    if (!mouseOver && focused) {\n      focused = false;\n      onOut(el, e);\n    }\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchBlur to support dynamically added elements to dom\n   */\n  function onBlur(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchBlur(event.target.closest(selector), event);\n    }\n  };\n\n  /**\n   * Modified to support dynamically added element\n   */\n  function addFocus() {\n    parent.addEventListener('focus', onFocus, false);\n    parent.addEventListener('blur', onBlur, false);\n  }\n\n  /**\n   * Modified to support dynamically added element\n   */\n  function removeFocus() {\n    parent.removeEventListener('focus', onFocus, false);\n    parent.removeEventListener('blur', onBlur, false);\n  }\n\n  /**\n   * Modified to support dynamically added element\n   */\n  h.remove = function() {\n    if (!parent) {\n      return;\n    }\n\n    parent.removeEventListener('mouseover', onMouseOver, false);\n    parent.removeEventListener('mouseout', onMouseOut, false);\n    removeFocus();\n  };\n\n  /**\n   * Modified to support dynamically added element\n   */\n  if (parent) {\n    parent.addEventListener('mouseover', onMouseOver, false);\n    parent.addEventListener('mouseout', onMouseOut, false);\n  }\n\n  return h;\n};\n","import wpstgHoverIntent from './modules/wpstg-hover-intent';\n\nexport default (function($) {\n  const WPStagingCommon = {\n    continueErrorHandle: true,\n    cache: {\n      elements: [],\n      get: function(selector) {\n        // It is already cached!\n        if ($.inArray(selector, this.elements) !== -1) {\n          return this.elements[selector];\n        }\n\n        // Create cache and return\n        this.elements[selector] = $(selector);\n\n        return this.elements[selector];\n      },\n      refresh: function(selector) {\n        selector.elements[selector] = $(selector);\n      },\n    },\n    setJobId: function(jobId) {\n      localStorage.setItem('jobIdBeingProcessed', jobId);\n    },\n    getJobId: function() {\n      return localStorage.getItem('jobIdBeingProcessed');\n    },\n    listenTooltip: function() {\n      wpstgHoverIntent(document, '.wpstg--tooltip', function(target, event) {\n        target.querySelector('.wpstg--tooltiptext').style.visibility = 'visible';\n      }, function(target, event) {\n        target.querySelector('.wpstg--tooltiptext').style.visibility = 'hidden';\n      });\n    },\n    isEmpty: function(obj) {\n      for (const prop in obj) {\n        if (obj.hasOwnProperty(prop)) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n    // Get the custom themed Swal Modal for WP Staging\n    // Easy to maintain now in one place now\n    getSwalModal: function(isContentCentered = false, customClasses = {}) {\n      // common style for all swal modal used in WP Staging\n      const defaultCustomClasses = {\n        confirmButton: 'wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn wpstg-100-width',\n        cancelButton: 'wpstg--btn--cancel wpstg-blue-primary wpstg-link-btn wpstg-100-width',\n        actions: 'wpstg--modal--actions',\n        popup: isContentCentered ? 'wpstg-swal-popup centered-modal' : 'wpstg-swal-popup',\n      };\n\n      // If a attribute exists in both default and additional attributes,\n      // The class(es) of the additional attribute will overrite the default one.\n      const options = {\n        customClass: Object.assign(defaultCustomClasses, customClasses),\n        buttonsStyling: false,\n        reverseButtons: true,\n        showClass: {\n          popup: 'wpstg--swal2-show wpstg-swal-show',\n        },\n      };\n\n      return wpstgSwal.mixin(options);\n    },\n    showSuccessModal: function(htmlContent) {\n      this.getSwalModal().fire({\n        showConfirmButton: false,\n        showCancelButton: true,\n        cancelButtonText: 'OK',\n        icon: 'success',\n        title: 'Success!',\n        html: '<div class=\"wpstg--grey\" style=\"text-align: left; margin-top: 8px;\">' + htmlContent + '</div>',\n      });\n    },\n    showWarningModal: function(htmlContent) {\n      this.getSwalModal().fire({\n        showConfirmButton: false,\n        showCancelButton: true,\n        cancelButtonText: 'OK',\n        icon: 'warning',\n        title: '',\n        html: '<div class=\"wpstg--grey\" style=\"text-align: left; margin-top: 8px;\">' + htmlContent + '</div>',\n      });\n    },\n    showErrorModal: function(htmlContent) {\n      this.getSwalModal().fire({\n        showConfirmButton: false,\n        showCancelButton: true,\n        cancelButtonText: 'OK',\n        icon: 'error',\n        title: 'Error!',\n        html: '<div class=\"wpstg--grey\" style=\"text-align: left; margin-top: 8px;\">' + htmlContent + '</div>',\n      });\n    },\n    getSwalContainer: function() {\n      return wpstgSwal.getContainer();\n    },\n    closeSwalModal: function() {\n      wpstgSwal.close();\n    },\n    /**\n     * Treats a default response object generated by WordPress's\n     * wp_send_json_success() or wp_send_json_error() functions in\n     * PHP, parses it in JavaScript, and either throws if it's an error,\n     * or returns the data if the response is successful.\n     *\n     * @param {object} response\n     * @return {*}\n     */\n    getDataFromWordPressResponse(response) {\n      if (typeof response !== 'object') {\n        throw new Error('Unexpected response (ERR 1341)');\n      }\n\n      if (!response.hasOwnProperty('success')) {\n        throw new Error('Unexpected response (ERR 1342)');\n      }\n\n      if (!response.hasOwnProperty('data')) {\n        throw new Error('Unexpected response (ERR 1343)');\n      }\n\n      if (response.success === false) {\n        if (response.data instanceof Array && response.data.length > 0) {\n          throw new Error(response.data.shift());\n        } else {\n          throw new Error('Response was not successful');\n        }\n      } else {\n        // Successful response. Return the data.\n        return response.data;\n      }\n    },\n    isLoading: function(isLoading) {\n      if (!isLoading || isLoading === false) {\n        WPStagingCommon.cache.get('.wpstg-loader').hide();\n      } else {\n        WPStagingCommon.cache.get('.wpstg-loader').show();\n      }\n    },\n    /**\n     * Convert the given url to make it slug compatible\n     * @param {string} url\n     * @return {string}\n     */\n    slugify: function(url) {\n      return url.toString()\n          .toLowerCase()\n          .normalize('NFD')\n          .replace(/[\\u0300-\\u036f]/g, '')\n          .replace(/\\s+/g, '-')\n          .replace(/&/g, '-and-')\n          .replace(/[^a-z0-9\\-]/g, '')\n          .replace(/-+/g, '-')\n          .replace(/^-*/, '')\n          .replace(/-*$/, '')\n      ;\n    },\n    showAjaxFatalError: function(response, prependMessage, appendMessage) {\n      prependMessage = prependMessage ? prependMessage + '<br/><br/>' : 'Something went wrong! <br/><br/>';\n      appendMessage = appendMessage ? appendMessage + '<br/><br/>' : '<br/><br/>Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.';\n\n      if (response === false) {\n        WPStagingCommon.showError(prependMessage + ' Error: No response.' + appendMessage);\n        window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n        return;\n      }\n\n      if (typeof response.error !== 'undefined' && response.error) {\n        WPStagingCommon.showError(prependMessage + ' Error: ' + response.message + appendMessage);\n        window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n        return;\n      }\n    },\n    handleFetchErrors: function(response) {\n      if (!response.ok) {\n        WPStagingCommon.showError('Error: ' + response.status + ' - ' + response.statusText + '. Please try again or contact support.');\n      }\n      return response;\n    },\n    showError: function(message) {\n      WPStagingCommon.cache.get('#wpstg-try-again').css('display', 'inline-block');\n      WPStagingCommon.cache.get('#wpstg-cancel-cloning').text('Reset');\n      WPStagingCommon.cache.get('#wpstg-resume-cloning').show();\n      WPStagingCommon.cache.get('#wpstg-error-wrapper').show();\n      WPStagingCommon.cache.get('#wpstg-error-details').show().html(message);\n      WPStagingCommon.cache.get('#wpstg-removing-clone').removeClass('loading');\n      WPStagingCommon.cache.get('.wpstg-loader').hide();\n      $('.wpstg--modal--process--generic-problem').show().html(message);\n    },\n    resetErrors: function() {\n      WPStagingCommon.cache.get('#wpstg-error-details').hide().html('');\n    },\n    /**\n     * Ajax Requests\n     * @param {Object} data\n     * @param {Function} callback\n     * @param {string} dataType\n     * @param {bool} showErrors\n     * @param {int} tryCount\n     * @param {float} incrementRatio\n     * @param {function} errorCallback\n     */\n    ajax: function(data, callback, dataType, showErrors, tryCount, incrementRatio = null, errorCallback = null) {\n      if ('undefined' === typeof (dataType)) {\n        dataType = 'json';\n      }\n\n      if (false !== showErrors) {\n        showErrors = true;\n      }\n\n      tryCount = 'undefined' === typeof (tryCount) ? 0 : tryCount;\n\n      const retryLimit = 10;\n\n      let retryTimeout = 10000 * tryCount;\n\n      incrementRatio = parseInt(incrementRatio);\n      if (!isNaN(incrementRatio)) {\n        retryTimeout *= incrementRatio;\n      }\n\n      $.ajax({\n        url: ajaxurl + '?action=wpstg_processing&_=' + (Date.now() / 1000),\n        type: 'POST',\n        dataType: dataType,\n        cache: false,\n        data: data,\n        error: function(xhr, textStatus, errorThrown) {\n          console.log(xhr.status + ' ' + xhr.statusText + '---' + textStatus);\n\n          if (typeof (errorCallback) === 'function') {\n            // Custom error handler\n            errorCallback(xhr, textStatus, errorThrown);\n\n            if (!WPStagingCommon.continueErrorHandle) {\n              // Reset state\n              WPStagingCommon.continueErrorHandle = true;\n\n              return;\n            }\n          }\n\n          // Default error handler\n          tryCount++;\n          if (tryCount <= retryLimit) {\n            setTimeout(function() {\n              WPStagingCommon.ajax(data, callback, dataType, showErrors, tryCount, incrementRatio);\n              return;\n            }, retryTimeout);\n          } else {\n            const errorCode = 'undefined' === typeof (xhr.status) ? 'Unknown' : xhr.status;\n            WPStagingCommon.showError(\n                'Fatal Error:  ' + errorCode + ' Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.',\n            );\n          }\n        },\n        success: function(data) {\n          if ('function' === typeof (callback)) {\n            callback(data);\n          }\n        },\n        statusCode: {\n          404: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 404 - Can\\'t find ajax request URL! Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.');\n            }\n          },\n          500: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Fatal Error 500 - Internal server error while processing the request! Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.');\n            }\n          },\n          504: function() {\n            if (tryCount > retryLimit) {\n              WPStagingCommon.showError('Error 504 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          502: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 502 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          503: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 503 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          429: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 429 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          403: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Refresh page or login again! The process should be finished successfully. \\n\\ ');\n            }\n          },\n        },\n      });\n    },\n  };\n\n  return WPStagingCommon;\n})(jQuery);\n","/**\n * Polyfills the `Element.prototype.closest` function if not available in the browser.\n *\n * @return {Function} A function that will return the closest element, by selector, to this element.\n */\nfunction polyfillClosest() {\n  if (Element.prototype.closest) {\n    if (!Element.prototype.matches) {\n      Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n    }\n\n    Element.prototype.closest = function(s) {\n      let el = this;\n\n      do {\n        if (Element.prototype.matches.call(el, s)) return el;\n        el = el.parentElement || el.parentNode;\n      } while (el !== null && el.nodeType === 1);\n      return null;\n    };\n  }\n\n  return function(element, selector) {\n    return element instanceof Element ? element.closest(selector) : null;\n  };\n}\n\nexport const closest = polyfillClosest();\n","import {closest} from './wpstg-polyfill';\n\n/**\n * WP STAGING basic jQuery replacement\n */\n\n/**\n * Shortcut for document.querySelector() or jQuery's $()\n * Return single element only\n */\nexport function qs(selector) {\n  return document.querySelector(selector);\n}\n\n/**\n * Shortcut for document.querySelector() or jQuery's $()\n * Return collection of elements\n */\nexport function all(selector) {\n  return document.querySelectorAll(selector);\n}\n\n/**\n * alternative of jQuery - $(parent).on(event, selector, handler)\n */\nexport function addEvent(parent, evt, selector, handler) {\n  if (!parent instanceof Element) {\n    return;\n  }\n\n  parent.addEventListener(evt, function(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      handler(event.target.closest(selector), event);\n    }\n  }, false);\n}\n\nexport function slideDown(element, duration = 400) {\n  element.style.display = 'block';\n  element.style.overflow = 'hidden';\n  const height = element.offsetHeight;\n  element.style.height = '0px';\n  element.style.transitionProperty = 'height';\n  element.style.transitionDuration = duration + 'ms';\n  setTimeout(() => {\n    element.style.height = height + 'px';\n    window.setTimeout(() => {\n      element.style.removeProperty('height');\n      element.style.removeProperty('overflow');\n      element.style.removeProperty('transition-duration');\n      element.style.removeProperty('transition-property');\n    }, duration);\n  }, 0);\n}\n\nexport function slideUp(element, duration = 400) {\n  element.style.display = 'block';\n  element.style.overflow = 'hidden';\n  const height = element.offsetHeight;\n  element.style.height = height + 'px';\n  element.style.transitionProperty = 'height';\n  element.style.transitionDuration = duration + 'ms';\n  setTimeout(() => {\n    element.style.height = '0px';\n    window.setTimeout(() => {\n      element.style.display = 'none';\n      element.style.removeProperty('height');\n      element.style.removeProperty('overflow');\n      element.style.removeProperty('transition-duration');\n      element.style.removeProperty('transition-property');\n    }, duration);\n  }, 0);\n}\n\nexport function fadeOut(element, duration = 300) {\n  element.style.opacity = 1;\n  element.style.transitionProperty = 'opacity';\n  element.style.transitionDuration = duration + 'ms';\n  setTimeout(() => {\n    element.style.opacity = 0;\n    window.setTimeout(() => {\n      element.style.display = 'none';\n      element.style.removeProperty('opacity');\n      element.style.removeProperty('transition-duration');\n      element.style.removeProperty('transition-property');\n    }, duration);\n  }, 0);\n}\n\nexport function getNextSibling(element, selector) {\n  let sibling = element.nextElementSibling;\n\n  while (sibling) {\n    if (sibling.matches(selector)) {\n      return sibling;\n    }\n\n    sibling = sibling.nextElementSibling;\n  }\n};\n\nexport function getParents(element, selector) {\n  const result = [];\n  for (let parent = element && element.parentElement; parent; parent = parent.parentElement) {\n    if (parent.matches(selector)) {\n      result.push(parent);\n    }\n  }\n\n  return result;\n}\n\n/**\n * Check if element has class name\n * @param element\n * @param className\n * @return {boolean}\n */\nexport function hasClass(element, className) {\n  return (' ' + element.className + ' ').indexOf(' ' + className+ ' ') > -1;\n}\n\n/**\n * Dispatches a change on an element that will trigger, depending on the element type,\n * cascading changes on elements dependant on the one that triggered the change and that\n * belong in the same container.\n *\n * @param {Element} element A reference to the Element the change was triggered from.\n *\n * @return {void} The function does not return any value and will have the side-effect of\n *                hiding or showing dependant elements.\n */\nexport function handleDisplayDependencies(element) {\n  if (!element instanceof Element || !element.id) {\n    return;\n  }\n\n  const containerSelector = '.wpstg-container';\n  // Use the default WordPress CSS class to hide and show the objects.\n  const hiddenClass = 'hidden';\n  const elementType = element.getAttribute('type');\n\n  switch (elementType) {\n    case 'checkbox':\n      // Go as high as the container that contains this element.\n      const container = closest(element, containerSelector);\n\n      if (container === null) {\n        return;\n      }\n\n      const showIfChecked = container.querySelectorAll(`[data-show-if-checked=\"${element.id}\"]`);\n      const showIfUnchecked = container.querySelectorAll(`[data-show-if-unchecked=\"${element.id}\"]`);\n      const checked = element.checked;\n\n      if (showIfChecked.length) {\n        for (const el of showIfChecked) {\n          if (checked) {\n            el.classList.remove(hiddenClass);\n          } else {\n            el.classList.add(hiddenClass);\n          }\n        }\n      }\n\n      if (showIfUnchecked.length) {\n        for (const el of showIfUnchecked) {\n          if (checked) {\n            el.classList.add(hiddenClass);\n          } else {\n            el.classList.remove(hiddenClass);\n          }\n        }\n      }\n\n      return;\n    default:\n      // Not a type we handle.\n      return;\n  }\n}\n\n/**\n * Initializes the display status of any element that depends on the status of another to\n * either hide or show.\n *\n * @return {void} The function will have the side-effect to toggle the hide/show class from\n *                elements dependant on another to hide or show.\n */\nexport function initDependantDisplay() {\n  const displayControllerSelector = '[onchange^=\"WPStaging.handleDisplayDependencies\"]';\n  const displayControllers = document.querySelectorAll(displayControllerSelector);\n  for (const displayController of displayControllers) {\n    handleDisplayDependencies(displayController);\n  }\n}\n\n/**\n * Toggle target element set in data-wpstg-target of the given element\n *\n * @param {Element} element A reference to the Element the change was triggered from.\n *\n * @return {void} The function does not return any value and will have the side-effect of\n *                hiding or showing dependant elements.\n */\nexport function handleToggleElement(element) {\n  if (!element instanceof Element || !element.getAttribute('data-wpstg-target')) {\n    return;\n  }\n\n  const containerSelector = '.wpstg_admin';\n  // Use the default WordPress CSS class to hide and show the objects.\n  const hiddenClass = 'hidden';\n\n  // Go as high as the container that contains this element.\n  const container = closest(element, containerSelector);\n\n  if (container === null) {\n    return;\n  }\n\n  const elements = container.querySelectorAll(element.getAttribute('data-wpstg-target'));\n\n  if (elements.length) {\n    for (const el of elements) {\n      el.classList.toggle(hiddenClass);\n    }\n  }\n}\n\n/**\n * Copy text in data-wpstg-copy to element(s) in data-wpstg-target\n *\n * @param {Element} element\n *\n * @return {void}\n */\nexport function handleCopyPaste(element) {\n  if (!element instanceof Element || !element.getAttribute('data-wpstg-target') || !element.getAttribute('data-wpstg-copy')) {\n    return;\n  }\n\n  const containerSelector = '.wpstg_admin';\n\n  // Go as high as the container that contains this element.\n  const container = closest(element, containerSelector);\n\n  if (container === null) {\n    return;\n  }\n\n  navigator.clipboard.writeText(element.getAttribute('data-wpstg-copy'));\n  const elements = container.querySelectorAll(element.getAttribute('data-wpstg-target'));\n\n  if (elements.length) {\n    for (const el of elements) {\n      el.value = element.getAttribute('data-wpstg-copy', '');\n    }\n  }\n}\n\n/**\n * Copy text in data-wpstg-source to clipboard\n *\n * @param {Element} element\n *\n * @return {void}\n */\nexport function handleCopyToClipboard(element) {\n  if (!element instanceof Element || !element.getAttribute('data-wpstg-source')) {\n    return;\n  }\n\n  const containerSelector = '.wpstg_admin';\n\n  // Go as high as the container that contains this element.\n  const container = closest(element, containerSelector);\n\n  if (container === null) {\n    return;\n  }\n\n  const el = container.querySelector(element.getAttribute('data-wpstg-source'));\n\n  if (el) {\n    navigator.clipboard.writeText(el.value);\n  }\n}\n\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","import WPStagingCommon from '../../wpstg.js';\nimport {qs} from '../../modules/wpstg-dom-utils.js';\nimport 'regenerator-runtime/runtime';\n\nlet WPStagingBackup;\n\n(function($) {\n  window.addEventListener('backups-tab', function() {\n    WPStagingBackup.fetchListing();\n  });\n\n  window.addEventListener('backupListingFinished', function() {\n    fetch(`${ajaxurl}?action=wpstg--backups--import--file-list&_=${Math.random()}&withTemplate=true`, {\n      method: 'POST',\n      credentials: 'same-origin',\n      body: new URLSearchParams({\n        action: 'wpstg--backups--import--file-list',\n        accessToken: wpstg.accessToken,\n        nonce: wpstg.nonce,\n      }),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }).then(WPStagingCommon.handleFetchErrors)\n        .then((res) => res.json())\n        .then((res) => {\n          const $ul = $('.wpstg-backup-list ul');\n          $ul.empty();\n          $ul.html(res);\n        })\n        .catch((e) => WPStagingCommon.showAjaxFatalError(e, '', 'Submit an error report.'))\n    ;\n  });\n\n  window.addEventListener('finishedProcess', function() {\n    window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n  });\n\n  window.addEventListener('finishedProcessWithError', function() {\n    window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n  });\n\n  WPStagingBackup = {\n    performingCancelRequest: false,\n    isCancelled: false,\n    isFinished: false,\n    processInfo: {\n      title: null,\n      interval: null,\n      isOnlySchedule: false,\n    },\n    modal: {\n      create: {\n        html: null,\n        confirmBtnTxt: null,\n      },\n      process: {\n        html: null,\n        cancelBtnTxt: null,\n        modal: null,\n      },\n      download: {\n        html: null,\n      },\n      import: {\n        html: null,\n        btnTxtNext: null,\n        btnTxtConfirm: null,\n        btnTxtCancel: null,\n        searchReplaceForm: null,\n        containerIntroduction: null,\n        data: {\n          file: null, // file path\n          fileObject: null, // JS \"File\" class instance\n          search: [],\n          replace: [],\n          backupMetadata: {},\n        },\n        baseDirectory: null,\n      },\n    },\n    messages: {\n      WARNING: 'warning',\n      ERROR: 'error',\n      INFO: 'info',\n      DEBUG: 'debug',\n      CRITICAL: 'critical',\n      data: {\n        all: [],\n        info: [],\n        error: [],\n        critical: [],\n        warning: [],\n        debug: [],\n      },\n      shouldWarn() {\n        return WPStagingBackup.messages.data.error.length > 0 ||\n        WPStagingBackup.messages.data.critical.length > 0\n        ;\n      },\n      countByType(type = WPStagingBackup.messages.ERROR) {\n        return WPStagingBackup.messages.data[type].length;\n      },\n      addMessage(message) {\n        if (Array.isArray(message)) {\n          message.forEach((item) => {\n            WPStagingBackup.messages.addMessage(item);\n          });\n          return;\n        }\n        const type = message.type.toLowerCase() || 'info';\n        if (!WPStagingBackup.messages.data[type]) {\n          WPStagingBackup.messages.data[type] = [];\n        }\n        WPStagingBackup.messages.data.all.push(message); // TODO RPoC\n        WPStagingBackup.messages.data[type].push(message);\n      },\n      reset() {\n        WPStagingBackup.messages.data = {\n          all: [],\n          info: [],\n          error: [],\n          critical: [],\n          warning: [],\n          debug: [],\n        };\n      },\n    },\n    timer: {\n      totalSeconds: 0,\n      interval: null,\n      start() {\n        if (null !== WPStagingBackup.timer.interval) {\n          return;\n        }\n\n        const prettify = (seconds) => {\n          console.log(`Process running for ${seconds} seconds`);\n          // If potentially anything can exceed 24h execution time than that;\n          // const _seconds = parseInt(seconds, 10)\n          // const hours = Math.floor(_seconds / 3600)\n          // const minutes = Math.floor(_seconds / 60) % 60\n          // seconds = _seconds % 60\n          //\n          // return [hours, minutes, seconds]\n          //   .map(v => v < 10 ? '0' + v : v)\n          //   .filter((v,i) => v !== '00' || i > 0)\n          //   .join(':')\n          // ;\n          // Are we sure we won't create anything that exceeds 24h execution time? If not then this;\n          return `${(new Date(seconds * 1000)).toISOString().substr(11, 8)}`;\n        };\n\n        WPStagingBackup.timer.interval = setInterval(() => {\n          $('.wpstg--modal--process--elapsed-time').text(prettify(WPStagingBackup.timer.totalSeconds));\n          WPStagingBackup.timer.totalSeconds++;\n        }, 1000);\n      },\n      stop() {\n        WPStagingBackup.timer.totalSeconds = 0;\n        if (WPStagingBackup.timer.interval) {\n          clearInterval(WPStagingBackup.timer.interval);\n          WPStagingBackup.timer.interval = null;\n        }\n      },\n    },\n    status: {\n      hasResponse: null,\n      reTryAfter: 5000,\n    },\n    fetchListing(isResetErrors = true) {\n      WPStagingCommon.isLoading(true);\n\n      $('#backup-messages').text('');\n\n      if (isResetErrors) {\n        WPStagingCommon.resetErrors();\n      }\n\n      return fetch(`${ajaxurl}?action=wpstg--backups--listing&_=${Math.random()}`, {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: new URLSearchParams({\n          action: 'wpstg--backups--listing',\n          accessToken: wpstg.accessToken,\n          nonce: wpstg.nonce,\n        }),\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n      }).then(WPStagingCommon.handleFetchErrors)\n          .then((res) => res.json())\n          .then((res) => {\n            WPStagingCommon.showAjaxFatalError(res, '', 'Submit an error report.');\n            WPStagingCommon.cache.get('#wpstg--tab--backup').html(res);\n            WPStagingCommon.isLoading(false);\n            window.dispatchEvent(new Event('backupListingFinished'));\n            return res;\n          })\n          .catch((e) => WPStagingCommon.showAjaxFatalError(e, '', 'Submit an error report.'))\n      ;\n    },\n    /**\n     * The cancel & cleanup process when we cancel a backup job or when a backup job is stopped due to an error.\n     *\n     * @param {Object} extraParams Extra parameter to send during cancel process\n     * @param {CallableFunction} callback This function is called when a backup cancel/cleanup process response is returned. This callback is always called even if cancel process fails.\n     */\n    cancel(extraParams = {}, callback = null) {\n      WPStagingBackup.timer.stop();\n      clearInterval(WPStagingBackup.processInfo.interval);\n      WPStagingBackup.isCancelled = true;\n      WPStagingBackup.processInfo.interval = null;\n      window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n      WPStagingCommon.closeSwalModal();\n\n      WPStagingCommon.getSwalModal(true).fire({\n        title: 'Cancelling & Cleaning up',\n        text: 'This modal will close automatically when done...',\n        icon: 'info',\n        showConfirmButton: false,\n        showCloseButton: false,\n        showLoaderOnConfirm: false,\n        showCancelButton: false,\n        allowEscapeKey: false,\n        allowOutsideClick: false,\n        width: 650,\n        onRender() {\n          WPStagingBackup.sendCancelRequest(\n              Object.assign({\n                isInit: 'yes',\n              }, extraParams),\n              callback,\n          );\n        },\n      });\n    },\n    sendCancelRequest(extraParams, callback) {\n      if (WPStagingBackup.performingCancelRequest) {\n        return;\n      }\n\n      WPStagingBackup.performingCancelRequest = true;\n\n      WPStagingCommon.ajax(\n          Object.assign({\n            action: 'wpstg--backups--cancel',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n            jobIdBeingCancelled: WPStagingCommon.getJobId(),\n          }, extraParams),\n          function(response) {\n            WPStagingBackup.performingCancelRequest = false;\n            WPStagingBackup.isCancelled = false;\n            WPStagingCommon.showAjaxFatalError(response, '', 'Submit an error report.');\n\n            if (!response.hasOwnProperty('status')) {\n              WPStagingCommon.showErrorModal('Cancel process did not finish gracefully. Some temporary files might not have been cleaned up.');\n            }\n\n            if (response.status === true) {\n              WPStagingCommon.closeSwalModal();\n              if (callback !== undefined && callback !== null) {\n                callback();\n              }\n            } else {\n              extraParams.isInit = 'no';\n              WPStagingBackup.sendCancelRequest(extraParams, callback);\n            }\n          },\n          'json',\n          false,\n          10, // Don't retry upon failure\n          1.25,\n          function(xhr, textStatus, errorThrown) {\n            WPStagingBackup.performingCancelRequest = false;\n\n            // Todo: Why do we need this?\n            WPStagingCommon.continueErrorHandle = false;\n\n            // Resource is busy, wait for request to finish and try again\n            if (xhr.status === 423) {\n              setTimeout(function() {\n                WPStagingBackup.sendCancelRequest(extraParams, callback);\n              }, 1000);\n              return;\n            }\n            WPStagingCommon.closeSwalModal();\n            WPStagingCommon.showErrorModal('Cancel process did not finish gracefully. Some temporary files might not have been cleaned up.');\n            if (callback !== undefined && callback !== null) {\n              callback();\n            }\n          },\n      );\n    },\n    /**\n   * If process.execute exists, process.data and process.onResponse is not used\n   * process = { data: {}, onResponse: (resp) => {}, onAfterClose: () => {}, execute: () => {}, isShowCancelButton: bool }\n   * @param {object} process\n   */\n    process(process) {\n      if (typeof process.execute !== 'function' && (!process.data || !process.onResponse)) {\n        WPStagingCommon.closeSwalModal();\n        WPStagingCommon.showError('process.data and / or process.onResponse is not set');\n        return;\n      }\n\n      // TODO move to backend and get the contents as xhr response?\n      if (!WPStagingBackup.modal.process.html || !WPStagingBackup.modal.process.cancelBtnTxt) {\n        const $modal = $('#wpstg--modal--backup--process');\n        const html = $modal.html();\n        const btnTxt = $modal.attr('data-cancelButtonText');\n        WPStagingBackup.modal.process.html = html || null;\n        WPStagingBackup.modal.process.cancelBtnTxt = btnTxt || null;\n        $modal.remove();\n      }\n\n      $('body')\n          .off('click', '.wpstg--modal--process--logs--tail')\n          .on('click', '.wpstg--modal--process--logs--tail', function(e) {\n            const logBtn = $(this);\n            e.preventDefault();\n            const container = WPStagingCommon.getSwalContainer();\n            const $logs = $(container).find('.wpstg--modal--process--logs');\n            $logs.toggle();\n            if ($logs.is(':visible')) {\n              logBtn.text(wpstg.i18n.hideLogs);\n              container.childNodes[0].style.width = '97%';\n              container.style['z-index'] = 9999;\n            } else {\n              logBtn.text(wpstg.i18n.showLogs);\n              container.childNodes[0].style.width = '600px';\n            }\n          })\n      ;\n\n      process.isShowCancelButton = false !== process.isShowCancelButton;\n\n      WPStagingBackup.modal.process.modal = WPStagingCommon.getSwalModal(true, {\n        content: 'wpstg--process--content',\n      }).fire({\n        html: WPStagingBackup.modal.process.html,\n        cancelButtonText: WPStagingBackup.modal.process.cancelBtnTxt,\n        showCancelButton: process.isShowCancelButton,\n        showConfirmButton: false,\n        allowOutsideClick: false,\n        allowEscapeKey: false,\n        width: 600,\n        onRender: () => {\n          const _btnCancel = WPStagingCommon.getSwalContainer().getElementsByClassName('wpstg--swal2-cancel wpstg--btn--cancel')[0];\n          const btnCancel = _btnCancel.cloneNode(true);\n          _btnCancel.parentNode.replaceChild(btnCancel, _btnCancel);\n\n          btnCancel.addEventListener('click', function(e) {\n            if (confirm('Do you want to cancel the process?')) {\n              WPStagingBackup.cancel();\n            }\n          });\n\n          if (typeof process.execute === 'function') {\n            process.execute();\n            return;\n          }\n\n          if (!process.data || !process.onResponse) {\n            WPStagingCommon.closeSwalModal();\n            WPStagingCommon.showError('process.data and / or process.onResponse is not set');\n            return;\n          }\n\n          WPStagingCommon.ajax(process.data, process.onResponse);\n        },\n        onAfterClose: () => typeof process.onAfterClose === 'function' && process.onAfterClose(),\n      });\n    },\n    processResponse(response) {\n      if (response === null) {\n        WPStagingCommon.closeSwalModal();\n        WPStagingCommon.showError('Invalid Response; null');\n        throw new Error(`Invalid Response; ${response}`);\n      }\n\n      const $container = $(WPStagingCommon.getSwalContainer());\n      const title = () => {\n        if ((response.title || response.statusTitle)) {\n          $container.find('.wpstg--modal--process--title').text(response.title || response.statusTitle);\n        }\n      };\n      const percentage = () => {\n        if (response.percentage) {\n          $container.find('.wpstg--modal--process--percent').text(response.percentage);\n        }\n      };\n      const logs = () => {\n        if (!response.messages) {\n          return;\n        }\n        const $logsContainer = $container.find('.wpstg--modal--process--logs');\n        const stoppingTypes = [\n          WPStagingBackup.messages.ERROR,\n          WPStagingBackup.messages.CRITICAL,\n        ];\n        const appendMessage = (message) => {\n          if (Array.isArray(message)) {\n            for (const item of message) {\n              appendMessage(item);\n            }\n            return;\n          }\n          const msgClass = `wpstg--modal--process--msg--${message.type.toLowerCase()}`;\n          $logsContainer.append(`<p class=\"${msgClass}\">[${message.type}] - [${message.date}] - ${message.message}</p>`);\n\n          if (stoppingTypes.includes(message.type.toLowerCase())) {\n            window.dispatchEvent(new CustomEvent('finishedProcessWithError', {\n              detail: {\n                error: message.message,\n              },\n            }));\n            // Callback approach is used to make sure the logs modal is always shown,\n            // after the completion of cancel/cleanup process.\n            // Makes sure cancel/cleanup process doesn't close the logs modal.\n            // Any other approach would have required a lot of refactoring.\n            WPStagingBackup.cancel({}, function() {\n              setTimeout(WPStagingBackup.logsModal, 500);\n            });\n          }\n        };\n        for (const message of response.messages) {\n          if (!message) {\n            continue;\n          }\n          WPStagingBackup.messages.addMessage(message);\n          appendMessage(message);\n        }\n\n        if ($logsContainer.is(':visible')) {\n          $logsContainer.scrollTop($logsContainer[0].scrollHeight);\n        }\n\n        if (!WPStagingBackup.messages.shouldWarn()) {\n          return;\n        }\n\n        const $btnShowLogs = $container.find('.wpstg--modal--process--logs--tail');\n        $btnShowLogs.html($btnShowLogs.attr('data-txt-bad'));\n\n        $btnShowLogs\n            .find('.wpstg--modal--logs--critical-count')\n            .text(WPStagingBackup.messages.countByType(WPStagingBackup.messages.CRITICAL))\n        ;\n\n        $btnShowLogs\n            .find('.wpstg--modal--logs--error-count')\n            .text(WPStagingBackup.messages.countByType(WPStagingBackup.messages.ERROR))\n        ;\n\n        $btnShowLogs\n            .find('.wpstg--modal--logs--warning-count')\n            .text(WPStagingBackup.messages.countByType(WPStagingBackup.messages.WARNING))\n        ;\n      };\n\n      title();\n      percentage();\n      logs();\n\n      if (response.jobId) {\n        WPStagingCommon.setJobId(response.jobId);\n      }\n\n      if (response.status === true && response.job_done === true) {\n        WPStagingBackup.timer.stop();\n        WPStagingBackup.isCancelled = true;\n\n        window.dispatchEvent(new CustomEvent('finishedProcess', {\n          response: response,\n        }));\n      }\n    },\n    logsModal() {\n      WPStagingCommon.getSwalModal(true, {\n        popup: 'wpstg-swal-popup centered-modal',\n      }).fire({\n        html: `<div class=\"wpstg--modal--error--logs\" style=\"display:block\"></div><div class=\"wpstg--modal--process--logs\" style=\"display:block\"></div>`,\n        width: '97%',\n        onRender: () => {\n          const $container = $(WPStagingCommon.getSwalContainer());\n          $container[0].style['z-index'] = 9999;\n\n          const $logsContainer = $container.find('.wpstg--modal--process--logs');\n          const $errorContainer = $container.find('.wpstg--modal--error--logs');\n          const $translations = $('#wpstg--js--translations');\n          const messages = WPStagingBackup.messages;\n          const title = $translations.attr('data-modal-logs-title')\n              .replace('{critical}', messages.countByType(messages.CRITICAL))\n              .replace('{errors}', messages.countByType(messages.ERROR))\n              .replace('{warnings}', messages.countByType(messages.WARNING))\n        ;\n\n          $errorContainer.before(`<h3>${title}</h3>`);\n          const warnings = [\n            WPStagingBackup.messages.CRITICAL,\n            WPStagingBackup.messages.ERROR,\n            WPStagingBackup.messages.WARNING,\n          ];\n\n          if (!WPStagingBackup.messages.shouldWarn()) {\n            $errorContainer.hide();\n          }\n\n          for (const message of messages.data.all) {\n            const msgClass = `wpstg--modal--process--msg--${message.type.toLowerCase()}`;\n\n            if (warnings.includes(message.type)) {\n              $errorContainer.append(\n                  `<p class=\"${msgClass}\">[${message.type}] - [${message.date}] - ${message.message}</p>`,\n              );\n            }\n            $logsContainer.append(\n                `<p class=\"${msgClass}\">[${message.type}] - [${message.date}] - ${message.message}</p>`,\n            );\n          }\n        },\n        onOpen: (container) => {\n          const $logsContainer = $(container).find('.wpstg--modal--process--logs');\n          $logsContainer.scrollTop($logsContainer[0].scrollHeight);\n        },\n      });\n    },\n    downloadModal({title = null, bodyText = null}) {\n      if (null === WPStagingBackup.modal.download.html) {\n        const $el = $('#wpstg--modal--backup--download');\n        WPStagingBackup.modal.download.html = $el.html();\n        $el.remove();\n      }\n\n      WPStagingCommon.getSwalModal(true).fire({\n        'icon': 'success',\n        'html': WPStagingBackup.modal.download.html.replace('{title}', title).replace('{btnTxtLog}', '<span style=\"text-decoration: underline\">Show Logs</span>').replace('{text}', bodyText !== null ? bodyText : 'You can download or restore this backup at any time on this website or even on another website to transfer this site.'),\n        'confirmButtonText': 'Close',\n        'showCancelButton': false,\n        'showConfirmButton': true,\n      });\n    },\n    statusStop() {\n      clearInterval(WPStagingBackup.processInfo.interval);\n      WPStagingBackup.processInfo.interval = null;\n      window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n    },\n    statusStart(process) {\n      if (WPStagingBackup.processInfo.interval !== null) {\n        return;\n      }\n      // console.log('Status: Start 2');\n      WPStagingBackup.processInfo.interval = setInterval(() => {\n        if (true === WPStagingBackup.isCancelled) {\n          WPStagingBackup.statusStop();\n          return;\n        }\n\n        if (WPStagingBackup.status.hasResponse === false) {\n          return;\n        }\n\n        WPStagingBackup.status.hasResponse = false;\n        fetch(`${ajaxurl}?action=wpstg--backups--status&${process}=restore`, {\n          method: 'POST',\n          credentials: 'same-origin',\n          body: new URLSearchParams({\n            action: 'wpstg--backups--status',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n          }),\n          headers: {\n            'Content-Type': 'application/x-www-form-urlencoded',\n          },\n        }).then((res) => res.json())\n            .then((res) => {\n              WPStagingBackup.status.hasResponse = true;\n              if (typeof res === 'undefined') {\n                WPStagingBackup.statusStop();\n              }\n\n              if (WPStagingBackup.processInfo.title === res.currentStatusTitle) {\n                return;\n              }\n\n              WPStagingBackup.processInfo.title = res.currentStatusTitle;\n              const $container = $(WPStagingCommon.getSwalContainer());\n              $container.find('.wpstg--modal--process--title').text(res.currentStatusTitle);\n              $container.find('.wpstg--modal--process--percent').text('0');\n            })\n            .catch((e) => {\n              WPStagingBackup.status.hasResponse = true;\n              WPStagingCommon.showAjaxFatalError(e, '', 'Submit an error report.');\n            })\n        ;\n      }, 5000);\n    },\n  };\n}(jQuery));\n\nexport default WPStagingBackup;\n","import WPStagingCommon from '../../wpstg.js';\nimport {qs} from '../../modules/wpstg-dom-utils.js';\nimport 'regenerator-runtime/runtime';\nimport WPStagingBackup from './wpstg-backup';\n\nlet WPStagingBackupCreate;\n\n(function($) {\n  window.addEventListener('backups-tab', function() {\n    WPStagingBackupCreate.listen();\n  });\n\n  window.addEventListener('startedCreatingBackup', function() {\n    window.addEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n  });\n\n  WPStagingBackupCreate = {\n    listen() {\n      $('body')\n          .off('click', '#wpstg-new-backup', WPStagingBackupCreate.clickedBackup)\n          .on('click', '#wpstg-new-backup', WPStagingBackupCreate.clickedBackup)\n          .off('change', '.wpstg--swal2-container .wpstg-advanced-options-site input[type=checkbox]')\n          .on('change', '.wpstg--swal2-container .wpstg-advanced-options-site input[type=checkbox]', WPStagingBackupCreate.warnExportMediaWithoutDatabase)\n          .off('change', '[name=\"includedDirectories\\[\\]\"], input#includeDatabaseInBackup, input#includeOtherFilesInWpContent')\n          .on('change', '[type=\"checkbox\"][name=\"includedDirectories\\[\\]\"], input#includeDatabaseInBackup, input#includeOtherFilesInWpContent', WPStagingBackupCreate.disableButtonIfNoSelection)\n      ;\n    },\n    async clickedBackup(e) {\n      WPStagingCommon.resetErrors();\n      e.preventDefault();\n      WPStagingBackup.isCancelled = false;\n\n      if (!WPStagingBackup.modal.create.html || !WPStagingBackup.modal.create.confirmBtnTxt) {\n        const $newBackupModal = $('#wpstg--modal--backup--new');\n        const html = $newBackupModal.html();\n        const btnTxt = $newBackupModal.attr('data-confirmButtonText');\n        WPStagingBackup.modal.create.html = html || null;\n        WPStagingBackup.modal.create.confirmBtnTxt = btnTxt || null;\n        $newBackupModal.remove();\n      }\n\n      const {value: formValues} = await WPStagingCommon.getSwalModal(false, {\n        confirmButton: 'wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn',\n      }).fire({\n        title: '',\n        html: WPStagingBackup.modal.create.html,\n        focusConfirm: false,\n        confirmButtonText: WPStagingBackup.modal.create.confirmBtnTxt,\n        showCancelButton: true,\n        preConfirm: () => {\n          const container = WPStagingCommon.getSwalContainer();\n          WPStagingBackup.processInfo.isOnlySchedule = container.querySelector('#repeatBackupOnSchedule:not(:checked)') !== null && container.querySelector('#backupScheduleLaunch') !== null;\n\n          const selectedStorages = container.querySelectorAll('input[name=\"storages\"]:checked');\n          const storages = [];\n          for (const storage of selectedStorages) {\n            storages.push(storage.value);\n          }\n\n          return {\n            name: container.querySelector('input[name=\"backup_name\"]').value || null,\n            isExportingPlugins: container.querySelector('#includePluginsInBackup:checked') !== null,\n            isExportingMuPlugins: container.querySelector('#includeMuPluginsInBackup:checked') !== null,\n            isExportingThemes: container.querySelector('#includeThemesInBackup:checked') !== null,\n            isExportingUploads: container.querySelector('#includeMediaLibraryInBackup:checked') !== null,\n            isExportingOtherWpContentFiles: container.querySelector('#includeOtherFilesInWpContent:checked') !== null,\n            isExportingDatabase: container.querySelector('#includeDatabaseInBackup:checked') !== null,\n            repeatBackupOnSchedule: container.querySelector('#repeatBackupOnSchedule:not(:checked)') !== null,\n            scheduleRecurrence: container.querySelector('#backupScheduleRecurrence').value || null,\n            scheduleTime: container.querySelector('#backupScheduleTime').value || null,\n            scheduleRotation: container.querySelector('#backupScheduleRotation').value || null,\n            storages: storages,\n            isCreateScheduleBackupNow: container.querySelector('#backupScheduleLaunch:checked') !== null,\n          };\n        },\n      });\n\n      if (!formValues) {\n        return;\n      }\n\n      WPStagingBackup.process({\n        execute: () => {\n          WPStagingBackup.messages.reset();\n          WPStagingBackupCreate.prepareBackup(formValues);\n        },\n      });\n    },\n    prepareBackup(data) {\n      WPStagingCommon.ajax(\n          {\n            action: 'wpstg--backups--prepare-export',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n            wpstgExportData: data,\n          },\n          function(response) {\n            if (response.success) {\n              window.dispatchEvent(new Event('startedCreatingBackup'));\n              WPStagingBackup.timer.start();\n\n              WPStagingBackupCreate.createBackup();\n            } else {\n              WPStagingCommon.showAjaxFatalError(response.data, '', 'Submit an error report.');\n            }\n          },\n          'json',\n          false,\n          10,\n          1.25,\n          function(xhr, textStatus, errorThrown) {\n            if (xhr.status === 423) {\n              WPStagingCommon.continueErrorHandle = false;\n              WPStagingBackup.shouldCleanUp = false;\n              WPStagingCommon.closeSwalModal();\n\n              setTimeout(function() {\n                WPStagingBackup.shouldCleanUp = true;\n              }, 1000);\n\n              WPStagingCommon.showErrorModal(xhr.responseJSON.data);\n            } else {\n              WPStagingCommon.continueErrorHandle = true;\n            }\n          },\n      );\n    },\n    createBackup() {\n      const maxBackupSequentialReturnError = 10;\n      let backupReturnedError = 0;\n      WPStagingCommon.resetErrors();\n\n      if (WPStagingBackup.isCancelled) {\n        WPStagingBackup.statusStop();\n        return;\n      }\n      WPStagingCommon.ajax(\n          {\n            action: 'wpstg--backups--export',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n          },\n          function(response) {\n            backupReturnedError = 0;\n\n            if (WPStagingBackup.isCancelled) {\n              return;\n            }\n\n            if (typeof response === 'undefined') {\n              setTimeout(function() {\n                WPStagingBackupCreate.createBackup();\n              }, wpstg.delayReq);\n              return;\n            }\n\n            WPStagingBackup.processResponse(response);\n            if (!WPStagingBackup.processInfo.interval) {\n              WPStagingBackup.statusStart('create');\n            }\n\n            if (response.statusTitle === 'JOB_FAIL') {\n              response.messages.push({\n                'type': 'critical',\n                'message': 'There was a PHP fatal error while processing the backup. You might need to check your PHP error log to find out the reason. Please contact WPSTAGING support if you need help.',\n              });\n\n              WPStagingBackup.processResponse(response);\n              WPStagingBackup.cancel();\n              setTimeout(WPStagingBackup.logsModal, 500);\n            } else if (response.statusTitle === 'JOB_RETRY') {\n              WPStagingBackup.processResponse(response);\n              WPStagingBackupCreate.createBackup();\n            }\n\n            if (response.status === false) {\n              WPStagingBackupCreate.createBackup();\n            } else if (response.status === true) {\n              $('#wpstg--progress--status').text('Backup successfully created!');\n\n              if (WPStagingBackup.messages.shouldWarn()) {\n              // noinspection JSIgnoredPromiseFromCall\n                WPStagingBackup.fetchListing();\n                WPStagingBackup.logsModal();\n                return;\n              }\n              WPStagingBackup.statusStop();\n              WPStagingCommon.closeSwalModal();\n              WPStagingBackup.fetchListing()\n                  .then(() => {\n                    if (!response.backupMd5 && !WPStagingBackup.processInfo.isOnlySchedule) {\n                      WPStagingCommon.showError('Failed to get backup md5 from response');\n                      return;\n                    }\n\n                    // Wait for fetchListing to populate the DOM with the backup data that we want to read\n                    let $el = '';\n                    let timesWaited = 0;\n                    const intervalWaitForBackupInDom = setInterval(function() {\n                      if (!WPStagingBackup.processInfo.isOnlySchedule) {\n                        timesWaited++;\n                        $el = $(`.wpstg-backup[data-md5=\"${response.backupMd5}\"] .wpstg--backup--download`);\n\n                        // Could not find element, let's try again...\n                        if (!$el.length) {\n                          if (timesWaited >= 20) {\n                            // Bail: We tried too many times and couldn't find.\n                            clearInterval(intervalWaitForBackupInDom);\n                          }\n                          return;\n                        }\n\n                        // Found it. No more need for the interval.\n                        clearInterval(intervalWaitForBackupInDom);\n\n                        const backupSize = response.hasOwnProperty('backupSize') ? ' (' + response.backupSize + ')' : '';\n                      } else {\n                        // Just clear the interval\n                        clearInterval(intervalWaitForBackupInDom);\n                      }\n\n                      WPStagingBackup.downloadModal({\n                        title: WPStagingBackup.processInfo.isOnlySchedule ? 'Backup Schedule Created' : 'Backup Complete',\n                        bodyText: WPStagingBackup.processInfo.isOnlySchedule ? 'Backup is scheduled according to the provided settings.' : null,\n                      });\n                      $('.wpstg--modal--download--logs--wrapper').show();\n                      const $logsContainer = $('.wpstg--modal--process--logs');\n                      WPStagingBackup.messages.data.all.forEach((message) => {\n                        const msgClass = `wpstg--modal--process--msg--${message.type.toLowerCase()}`;\n                        $logsContainer\n                            .append(`<p class=\"${msgClass}\">[${message.type}] - [${message.date}] - ${message.message}</p>`)\n                        ;\n                      });\n                    }, 500);\n                  })\n              ;\n            } else {\n              setTimeout(function() {\n                WPStagingBackupCreate.createBackup();\n              }, wpstg.delayReq);\n            }\n          },\n          'json',\n          false,\n          0, // Don't retry upon failure\n          1.25,\n          function(xhr, textStatus, errorThrown) {\n            WPStagingCommon.continueErrorHandle = false;\n            console.log(xhr);\n            const response = {\n              'messages': [],\n            };\n\n            backupReturnedError++;\n\n            // Prevents loop in case PHP crashes constantly before being able to respond\n            if (backupReturnedError <= maxBackupSequentialReturnError) {\n              WPStagingBackupCreate.createBackup();\n            } else {\n              response.messages.push({\n                'type': 'critical',\n                'message': 'There was a PHP fatal error while processing the backup. You might need to check your PHP error log to find out the reason. Please contact WPSTAGING support if you need help.',\n              });\n\n              WPStagingBackup.processResponse(response);\n              WPStagingBackup.cancel();\n              setTimeout(WPStagingBackup.logsModal, 500);\n            }\n          },\n      );\n    },\n    warnExportMediaWithoutDatabase() {\n      const isExportingDatabase = document.getElementById('includeDatabaseInBackup').checked;\n      const isExportingMediaLibrary = document.getElementById('includeMediaLibraryInBackup').checked;\n\n      if (isExportingMediaLibrary && !isExportingDatabase) {\n        document.getElementById('exportUploadsWithoutDatabaseWarning').style.display = 'block';\n      } else {\n        document.getElementById('exportUploadsWithoutDatabaseWarning').style.display = 'none';\n      }\n    },\n    disableButtonIfNoSelection() {\n      const isExportingAnyDir = $('[type=\"checkbox\"][name=\"includedDirectories\\[\\]\"]:checked').length > 0;\n      const isExportingDatabase = $('input#includeDatabaseInBackup:checked').length === 1;\n      const isExportingOtherFilesInWpContent = $('input#includeOtherFilesInWpContent:checked').length === 1;\n      if (!isExportingAnyDir && !isExportingDatabase && !isExportingOtherFilesInWpContent) {\n        $('.wpstg--swal2-confirm').prop('disabled', true);\n      } else {\n        $('.wpstg--swal2-confirm').prop('disabled', false);\n      }\n    },\n  };\n}(jQuery));\n\nexport default WPStagingBackupCreate;\n","import WPStagingCommon from '../../wpstg.js';\nimport {qs} from '../../modules/wpstg-dom-utils.js';\nimport 'regenerator-runtime/runtime';\nimport WPStagingBackup from './wpstg-backup';\n\nlet WPStagingBackupDelete;\n\n(function($) {\n  window.addEventListener('backups-tab', function() {\n    WPStagingBackupDelete.listen();\n  });\n\n  WPStagingBackupDelete = {\n    listen() {\n      $('#wpstg--tab--backup')\n          .off('click', '.wpstg-delete-backup[data-md5]', WPStagingBackupDelete.delete)\n          .on('click', '.wpstg-delete-backup[data-md5]', WPStagingBackupDelete.delete);\n    },\n    delete(e) {\n      e.preventDefault();\n      WPStagingCommon.resetErrors();\n\n      const htmlContent = 'Are you sure you want to delete this backup?';\n\n      WPStagingCommon.getSwalModal(false, {\n        confirmButton: 'wpstg--btn--confirm wpstg-btn-danger wpstg-link-btn',\n      }).fire({\n        showConfirmButton: true,\n        showCancelButton: true,\n        cancelButtonText: 'Cancel',\n        confirmButtonText: 'Delete',\n        icon: 'warning',\n        title: 'Delete Backup!',\n        html: '<div class=\"wpstg--modal--delete\">' + htmlContent + '</div>',\n      }).then((result) => {\n        if (!result.value) {\n          return;\n        }\n\n        WPStagingCommon.isLoading(true);\n        WPStagingCommon.cache.get('#wpstg-existing-backups').hide();\n        const md5 = this.getAttribute('data-md5');\n        WPStagingCommon.ajax(\n            {\n              action: 'wpstg--backups--delete',\n              md5: md5,\n              accessToken: wpstg.accessToken,\n              nonce: wpstg.nonce,\n            },\n            function(response) {\n              WPStagingCommon.showAjaxFatalError(response, '', ' Please submit an error report by using the REPORT ISSUE button.');\n              WPStagingCommon.isLoading(false);\n              WPStagingBackup.fetchListing();\n            },\n        );\n      });\n    },\n  };\n}(jQuery));\n\nexport default WPStagingBackupDelete;\n","import WPStagingCommon from '../../wpstg.js';\nimport {qs} from '../../modules/wpstg-dom-utils.js';\nimport 'regenerator-runtime/runtime';\nimport WPStagingBackup from './wpstg-backup';\n\nlet WPStagingBackupEdit;\n\n(function($) {\n  window.addEventListener('backups-tab', function() {\n    WPStagingBackupEdit.listen();\n  });\n\n  WPStagingBackupEdit = {\n    listen() {\n      $('#wpstg--tab--backup')\n          .off('click', '.wpstg--backup--edit[data-md5]', WPStagingBackupEdit.edit)\n          .on('click', '.wpstg--backup--edit[data-md5]', WPStagingBackupEdit.edit);\n    },\n    async edit(e) {\n      e.preventDefault();\n\n      const $this = $(this);\n      const name = $this.data('name');\n      const notes = $this.data('notes');\n\n      const {value: formValues} = await WPStagingCommon.getSwalModal().fire({\n        title: '',\n        html: `\n                    <label id=\"wpstg-backup-edit-name\">Backup Name</label>\n                    <input id=\"wpstg-backup-edit-name-input\" class=\"wpstg--swal2-input\" value=\"${name}\" maxlength=\"100\">\n                    <label>Additional Notes</label>\n                    <textarea id=\"wpstg-backup-edit-notes-textarea\" class=\"wpstg--swal2-textarea\" maxlength=\"1000\">${notes}</textarea>\n                  `,\n        focusConfirm: false,\n        confirmButtonText: 'Save',\n        showCancelButton: true,\n        preConfirm: () => ({\n          name: document.getElementById('wpstg-backup-edit-name-input').value || null,\n          notes: document.getElementById('wpstg-backup-edit-notes-textarea').value || null,\n        }),\n      });\n\n      if (!formValues) {\n        return;\n      }\n\n      WPStagingCommon.ajax(\n          {\n            action: 'wpstg--backups--edit',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n            md5: $this.data('md5'),\n            name: formValues.name,\n            notes: formValues.notes,\n          },\n          function(response) {\n            WPStagingCommon.showAjaxFatalError(response, '', 'Submit an error report.');\n            // noinspection JSIgnoredPromiseFromCall\n            WPStagingBackup.fetchListing();\n          },\n      );\n    },\n  };\n}(jQuery));\n\nexport default WPStagingBackupEdit;\n","import WPStagingCommon from '../../wpstg.js';\nimport 'regenerator-runtime/runtime';\nimport WPStagingBackup from './wpstg-backup';\n\nlet WPStagingBackupRestore;\n\n(function($) {\n  window.addEventListener('backups-tab', function() {\n    WPStagingBackupRestore.listen();\n  });\n\n  WPStagingBackupRestore = {\n    listen() {\n      $('body')\n          .off('click', '.wpstg--backup--restore', WPStagingBackupRestore.clickedRestore)\n          .on('click', '.wpstg--backup--restore', WPStagingBackupRestore.clickedRestore);\n    },\n    clickedRestore(e) {\n      WPStagingCommon.resetErrors();\n      e.preventDefault();\n      WPStagingBackup.isCancelled = false;\n\n      WPStagingBackup.modal.import.data.file = this.getAttribute('data-filePath');\n      WPStagingBackupRestore.selectedBackup();\n    },\n    selectedBackup() {\n      WPStagingCommon.ajax(\n          {\n            action: 'wpstg--backups--read-backup-metadata',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n            wpstg: {\n              file: WPStagingBackup.modal.import.data.file,\n            },\n          },\n          function(response) {\n            let responseData;\n\n            try {\n              responseData = JSON.parse(WPStagingCommon.getDataFromWordPressResponse(response));\n              // Get the first item of the blogs object:\n              // blogs {1: {someData}} => {someData}\n              const mainNetwork = responseData.networks[Object.keys(responseData.networks)[0]];\n              const mainBlog = mainNetwork.blogs[Object.keys(mainNetwork.blogs)[0]];\n              responseData = mainBlog;\n            } catch (e) {\n              WPStagingCommon.showError(e);\n            }\n\n            WPStagingBackup.modal.import.data.backupMetadata = responseData;\n\n            const postData = new FormData();\n            postData.append('action', 'wpstg--backups--import--file-info');\n            postData.append('accessToken', wpstg.accessToken);\n            postData.append('nonce', wpstg.nonce);\n            postData.append('filePath', WPStagingBackup.modal.import.data.file);\n\n            fetch(ajaxurl, {\n              method: 'POST',\n              body: postData,\n            })\n                .then(WPStagingCommon.handleFetchErrors)\n                .then((res) => res.json())\n                .then((html) => {\n                  WPStagingBackupRestore.importModal(html, postData);\n                })\n                .catch((e) => WPStagingCommon.showAjaxFatalError(e, '', 'Submit an error report.'));\n\n            $('.wpstg--modal--actions .wpstg--swal2-confirm').show();\n            $('.wpstg--modal--actions .wpstg--swal2-confirm').prop('disabled', false);\n          },\n      );\n    },\n    importModal(confirmHtml) {\n      const importSiteBackup = (data) => {\n        WPStagingCommon.resetErrors();\n\n        if (WPStagingBackup.isCancelled) {\n          // console.log('cancelled');\n          WPStagingBackup.statusStop();\n          return;\n        }\n\n        WPStagingBackup.timer.start();\n\n        window.addEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n\n        WPStagingCommon.ajax(\n            {\n              action: 'wpstg--backups--import',\n              accessToken: wpstg.accessToken,\n              nonce: wpstg.nonce,\n            },\n            function(response) {\n              if (WPStagingBackup.isCancelled) {\n                return;\n              }\n\n              if (typeof response === 'undefined') {\n                setTimeout(function() {\n                  importSiteBackup(data);\n                }, wpstg.delayReq);\n                return;\n              }\n\n              WPStagingBackup.processResponse(response);\n              if (!WPStagingBackup.processInfo.interval) {\n                WPStagingBackup.statusStart('restore');\n              }\n\n              if (response.status === false) {\n                importSiteBackup(data);\n              } else if (response.status === true) {\n                window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n                $('#wpstg--progress--status').text('Backup successfully imported!');\n                if (WPStagingBackup.messages.shouldWarn()) {\n                  WPStagingBackup.logsModal();\n                  return;\n                }\n                WPStagingBackup.statusStop();\n                const logEntries = $('.wpstg--modal--process--logs').get(1).innerHTML;\n                const html = '<div class=\"wpstg--modal--process--logs\">' + logEntries + '</div>';\n                const issueFound = html.includes('wpstg--modal--process--msg--warning') || html.includes('wpstg--modal--process--msg--error') ? 'Issues(s) found!<br> ' : '';\n\n                const loginText = WPStagingBackup.modal.import.data.backupMetadata.isExportingDatabase ? 'You will be redirected to the login page after closing this modal.' : '';\n\n                // TODO: remove default classes.\n                WPStagingCommon.getSwalModal(true, {\n                  container: 'wpstg-restore-finished-container',\n                }).fire({\n                  icon: 'success',\n                  title: 'Finished Successfully',\n                  html: '<div id=\"wpstg-restore-success\" class=\"wpstg--grey\">Site has been restored from backup. ' + loginText + '  <br/><br/><span class=\"wpstg--modal--process--msg-found\">' + issueFound + '</span><button class=\"wpstg--modal--process--logs--tail\" data-txt-bad=\"\">Show Logs</button></div><br/>' + html,\n                  onClose: function() {\n                    if (WPStagingBackup.modal.import.data.backupMetadata.isExportingDatabase) {\n                      document.getElementById('wpstg-restore-wait').style.display = 'flex';\n\n                      // Reload in 15 seconds if something goes wrong with the Ajax call.\n                      setTimeout(function() {\n                        document.location.reload(true);\n                      }, 15000);\n\n                      WPStagingCommon.ajax(\n                          {\n                            action: 'raw_wpstg--backups--login-url',\n                            accessToken: wpstg.accessToken,\n                            nonce: wpstg.nonce,\n                          },\n                          function(response) {\n                            const loginUrl = new URL(response.data.loginUrl);\n                            loginUrl.searchParams.set('accessToken', wpstg.accessToken);\n                            loginUrl.searchParams.set('wpstgAfterImport', 'yes');\n                            window.location.href = loginUrl.toString();\n                          },\n                      );\n                    } else {\n                      WPStagingBackup.fetchListing();\n                    }\n                  },\n                },\n                );\n              } else {\n                setTimeout(function() {\n                  importSiteBackup(data);\n                }, wpstg.delayReq);\n              }\n            },\n            'json',\n            false,\n            10, // Don't retry upon failure\n            1.25,\n        );\n      };\n\n      const $modal = $('#wpstg--modal--backup--import');\n\n      WPStagingBackup.modal.import.html = $modal.html();\n      WPStagingBackup.modal.import.baseDirectory = $modal.attr('data-baseDirectory');\n      WPStagingBackup.modal.import.btnTxtNext = $modal.attr('data-nextButtonText');\n      WPStagingBackup.modal.import.btnTxtConfirm = $modal.attr('data-confirmButtonText');\n      WPStagingBackup.modal.import.btnTxtCancel = $modal.attr('data-cancelButtonText');\n\n      WPStagingCommon.getSwalModal()\n          .mixin({\n            progressSteps: ['1', '2'],\n          })\n          .queue([\n            {\n              html: $('.wpstg--modal--backup--import--introduction').first(),\n              confirmButtonText: 'Next',\n              showCancelButton: true,\n              showConfirmButton: true,\n              reverseButtons: true,\n              width: 600,\n              onRender() {\n                $('.wpstg--modal--backup--import--introduction .wpstg-backup-restore-contains-database').hide();\n                $('.wpstg--modal--backup--import--introduction .wpstg-backup-restore-contains-database-multisite').hide();\n                $('.wpstg--modal--backup--import--introduction .wpstg-backup-restore-contains-files').hide();\n\n                if (WPStagingBackup.modal.import.data.backupMetadata.isExportingDatabase) {\n                  $('.wpstg--modal--backup--import--introduction .wpstg-backup-restore-contains-database').show();\n                }\n\n                console.log(WPStagingBackup.modal.import.data.backupMetadata);\n                if (WPStagingBackup.modal.import.data.backupMetadata.isExportingDatabase && WPStagingBackup.modal.import.data.backupMetadata.singleOrMulti === 'multi') {\n                  $('.wpstg--modal--backup--import--introduction .wpstg-backup-restore-contains-database-multisite').show();\n                }\n\n                if (\n                  WPStagingBackup.modal.import.data.backupMetadata.isExportingMuPlugins ||\n                  WPStagingBackup.modal.import.data.backupMetadata.isExportingPlugins ||\n                  WPStagingBackup.modal.import.data.backupMetadata.isExportingThemes ||\n                  WPStagingBackup.modal.import.data.backupMetadata.isExportingUploads ||\n                  WPStagingBackup.modal.import.data.backupMetadata.isExportingOtherWpContentFiles\n                ) {\n                  $('.wpstg--modal--backup--import--introduction .wpstg-backup-restore-contains-files').show();\n                }\n              },\n            },\n            {\n              html: confirmHtml,\n              confirmButtonText: 'Restore',\n              showCancelButton: true,\n              showConfirmButton: true,\n              reverseButtons: true,\n              width: 650,\n            },\n          ])\n          .then((res) => {\n            // Early bail: Dismissed, canceled, or in a incoherent state.\n            if (!res || !res.value) {\n              return;\n            }\n\n            // Early bail: Step 1 (Confirm) must be true.\n            if (!res.value[1] || res.value[1] !== true) {\n              return;\n            }\n\n            WPStagingBackup.isCancelled = false;\n\n            const data = WPStagingBackup.modal.import.data;\n\n            // Unset fileObject as we don't need it anymore, and it can't be converted to array.\n            WPStagingBackup.modal.import.data.fileObject = null;\n\n            data['file'] = WPStagingBackup.modal.import.baseDirectory + data['file'];\n\n            WPStagingCommon.ajax(\n                {\n                  action: 'wpstg--backups--prepare-import',\n                  accessToken: wpstg.accessToken,\n                  nonce: wpstg.nonce,\n                  wpstgImportData: data,\n                },\n                function(response) {\n                  if (response.success) {\n                    WPStagingBackup.process({\n                      execute: () => {\n                        WPStagingBackup.messages.reset();\n                        importSiteBackup(data);\n                      },\n                    });\n                  } else {\n                    WPStagingCommon.showAjaxFatalError(response.data, '', 'Submit an error report.');\n                  }\n                },\n                'json',\n                false,\n                10,\n                1.25,\n                function(xhr, textStatus, errorThrown) {\n                  if (xhr.status === 423) {\n                    WPStagingCommon.continueErrorHandle = false;\n                    WPStagingBackup.shouldCleanUp = false;\n                    WPStagingCommon.closeSwalModal();\n\n                    setTimeout(function() {\n                      WPStagingBackup.shouldCleanUp = true;\n                    }, 1000);\n                    WPStagingCommon.showErrorModal(xhr.responseJSON.data);\n                  } else {\n                    WPStagingCommon.continueErrorHandle = true;\n                  }\n                },\n            );\n          });\n    },\n  };\n}(jQuery));\n\nexport default WPStagingBackupRestore;\n","import WPStagingCommon from '../../wpstg.js';\nimport {qs} from '../../modules/wpstg-dom-utils.js';\nimport 'regenerator-runtime/runtime';\nimport WPStagingBackup from './wpstg-backup';\n\nlet WPStagingBackupUpload;\n\n(function($) {\n  window.addEventListener('backups-tab', function() {\n    WPStagingBackupUpload.listen();\n  });\n\n  WPStagingBackupUpload = {\n    isUploading: false,\n    resumable: null,\n    resumableFile: null,\n\n    listen() {\n      document.body.addEventListener('click', function(event) {\n        if (event.target.id === 'wpstg-upload-backup') {\n          WPStagingBackupUpload.uploadModal();\n        }\n      });\n    },\n\n    /**\n     * @see https://caniuse.com/fileapi\n     */\n    uploadNotSupported() {\n      WPStagingCommon.showErrorModal('Your browser do not support the File API, needed for the uploads. Please try a different/updated browser, or upload the Backup using FTP to the folder <strong>wp-content/uploads/wp-staging/backups</strong>');\n    },\n\n    setModalStateStart() {\n      WPStagingBackupUpload.isUploading = false;\n      qs('.wpstg--swal2-container #wpstg-upload-select').style.display = 'block';\n      qs('.wpstg--swal2-container #wpstg-upload-progress').style.display = 'none';\n      qs('.wpstg--swal2-container .wpstg--modal--backup--import--upload--content .wpstg-linear-loader').style.display = 'none';\n    },\n\n    setModalStateUploading() {\n      WPStagingBackupUpload.isUploading = true;\n      qs('.wpstg--swal2-container #wpstg-upload-select').style.display = 'none';\n      qs('.wpstg--swal2-container #wpstg-upload-progress').style.display = 'block';\n      qs('.wpstg--swal2-container .wpstg--modal--backup--import--upload--content .wpstg-linear-loader').style.display = 'block';\n      qs('.wpstg--swal2-container .wpstg--modal--import--upload--process').style.display = 'flex';\n\n      const _btnCancel = WPStagingCommon.getSwalContainer().getElementsByClassName('wpstg--swal2-cancel wpstg--btn--cancel')[0];\n      const btnCancel = _btnCancel.cloneNode(true);\n      _btnCancel.parentNode.replaceChild(btnCancel, _btnCancel);\n\n      btnCancel.addEventListener('click', WPStagingBackupUpload.eventListenerConfirmCancelUpload);\n    },\n\n    eventListenerConfirmCancelUpload() {\n      if (confirm('Do you want to abort the upload?')) {\n        WPStagingBackupUpload.resumable.cancel();\n        WPStagingCommon.closeSwalModal();\n        WPStagingBackupUpload.deleteUnfinishedUploads();\n      }\n    },\n\n    deleteUnfinishedUploads() {\n      WPStagingCommon.ajax(\n          {\n            action: 'wpstg--backups--uploads-delete-unfinished',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n          },\n          function(response) {\n          // no-op\n          },\n      );\n    },\n\n    uploadModal() {\n      WPStagingCommon.getSwalModal(true).fire({\n        html: document.getElementById('wpstg--modal--backup--upload').innerHTML,\n        showConfirmButton: false,\n        showCloseButton: false,\n        showLoaderOnConfirm: false,\n        showCancelButton: true,\n        width: 650,\n        allowEscapeKey: () => {\n          return !WPStagingBackupUpload.isUploading;\n        },\n        allowOutsideClick: () => {\n          return !WPStagingBackupUpload.isUploading;\n        },\n        onRender() {\n          WPStagingBackupUpload.deleteUnfinishedUploads();\n          WPStagingBackupUpload.setModalStateStart();\n\n          WPStagingBackupUpload.resumable = new Resumable({\n            target: wpstg.ajaxUrl,\n            chunkSize: wpstg.maxUploadChunkSize,\n            query: {\n              accessToken: wpstg.accessToken,\n              action: 'wpstg--backups--import--file-upload',\n              uniqueIdentifierSuffix: Math.floor(Math.random() * 99999999),\n            },\n            permanentErrors: [400, 401, 403, 404, 409, 415, 500, 501, 507, 413], // These will STOP the upload. Other errors will retry the chunk.\n            fileType: ['wpstg'],\n            simultaneousUploads: 1,\n            prioritizeFirstAndLastChunk: false,\n            testChunks: false,\n            forceChunkSize: true,\n          });\n          WPStagingBackupUpload.resumable.resumableFile = null;\n\n          if (!WPStagingBackupUpload.resumable.support) {\n            WPStagingCommon.closeSwalModal();\n            WPStagingBackupUpload.uploadNotSupported();\n\n            return;\n          }\n\n          WPStagingBackupUpload.resumable.assignBrowse(qs('.wpstg--swal2-container .resumable-browse'));\n          WPStagingBackupUpload.resumable.assignDrop(qs('.wpstg--swal2-container .resumable-drop'));\n\n          WPStagingBackupUpload.resumable.on('fileAdded', WPStagingBackupUpload.handleFileAdded);\n          WPStagingBackupUpload.resumable.on('fileSuccess', WPStagingBackupUpload.handleFileSuccess);\n          WPStagingBackupUpload.resumable.on('error', WPStagingBackupUpload.handleError);\n          WPStagingBackupUpload.resumable.on('progress', WPStagingBackupUpload.handleProgress);\n        },\n      });\n    },\n\n    handleFileAdded(file) {\n      WPStagingBackupUpload.setModalStateUploading();\n\n      WPStagingBackupUpload.resumable.resumableFile = file;\n      WPStagingBackupUpload.resumable.upload();\n    },\n\n    handleFileSuccess(file, message) {\n      WPStagingCommon.closeSwalModal();\n      WPStagingCommon.showSuccessModal(qs('#wpstg--modal--backup--upload').getAttribute('data-uploadSuccessMessage', 'Upload finished'));\n      WPStagingBackup.fetchListing();\n    },\n\n    handleProgress() {\n      const percent = Math.floor(WPStagingBackupUpload.resumable.progress() * 100);\n\n      qs('.wpstg--swal2-container .wpstg--modal--import--upload--progress').style.width = percent + '%';\n      qs('.wpstg--swal2-container .wpstg--modal--import--upload--progress--title > span').textContent = percent + '%';\n    },\n\n    handleError(message, file) {\n      try {\n        const json = JSON.parse(message);\n\n        if (json.hasOwnProperty('data') && json.data.hasOwnProperty('message') ) {\n          if (json.data.hasOwnProperty('isDiskFull') && json.data.isDiskFull) {\n            WPStagingBackupUpload.resumable.cancel();\n            WPStagingCommon.closeSwalModal();\n            WPStagingCommon.showErrorModal(json.data.message);\n            return;\n          }\n\n          if (json.data.hasOwnProperty('backupFailedValidation') && json.data.backupFailedValidation) {\n            WPStagingBackupUpload.resumable.cancel();\n            WPStagingCommon.closeSwalModal();\n            WPStagingCommon.showErrorModal(json.data.message);\n            return;\n          }\n        }\n      } catch (e) {\n        // not a JSON message, no-op\n      }\n\n      // Reduce chunk by 10%, with a minimum of 256kb reduction\n      const reduceChunkBytes = Math.max(256 * 1024, WPStagingBackupUpload.resumable.opts.chunkSize * 0.1);\n\n      WPStagingBackupUpload.resumable.opts.chunkSize = Math.ceil(WPStagingBackupUpload.resumable.opts.chunkSize - reduceChunkBytes);\n\n      if (WPStagingBackupUpload.resumable.opts.chunkSize < 64 * 1024) {\n        WPStagingCommon.closeSwalModal();\n        WPStagingCommon.showErrorModal('We could not upload the backup file, please try uploading it directly using FTP to the folder wp-content/uploads/wp-staging/backups. Please also make sure you have enough free disk space on the server.');\n      }\n\n      WPStagingBackupUpload.deleteUnfinishedUploads();\n\n      console.log(WPStagingBackupUpload.resumable.opts.chunkSize);\n      WPStagingBackupUpload.resumable.files[0].retry();\n    },\n  };\n}(jQuery));\n\nexport default WPStagingBackupUpload;\n","import WPStagingCommon from '../../wpstg.js';\nimport 'regenerator-runtime/runtime';\nimport {qs} from '../../modules/wpstg-dom-utils';\n\nlet WPStagingBackupManageSchedules;\n\n(function($) {\n  window.addEventListener('backups-tab', function() {\n    WPStagingBackupManageSchedules.listen();\n  });\n\n  WPStagingBackupManageSchedules = {\n    listen() {\n      document.body.addEventListener('click', function(event) {\n        if (event.target.id === 'wpstg-manage-backup-schedules') {\n          WPStagingBackupManageSchedules.manageSchedulesModal();\n        }\n      });\n    },\n\n    manageSchedulesModal() {\n      WPStagingBackupManageSchedules.fetchSchedules();\n      WPStagingCommon.getSwalModal(false).fire({\n        html: document.getElementById('wpstg--modal--backup--manage--schedules').innerHTML,\n        showConfirmButton: false,\n        showCloseButton: true,\n        showLoaderOnConfirm: false,\n        showCancelButton: true,\n        cancelButtonText: 'Close',\n        width: 750,\n        allowEscapeKey: true,\n        allowOutsideClick: true,\n      });\n    },\n    fetchSchedules() {\n      WPStagingCommon.ajax(\n          {\n            action: 'wpstg--backups-fetch-schedules',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n          },\n          function(response) {\n            qs('.wpstg--swal2-container #wpstg--modal--backup--manage--schedules--content').innerHTML = response.data;\n\n            document.querySelectorAll('.wpstg--swal2-container #wpstg--modal--backup--manage--schedules--content .wpstg--dismiss-schedule').forEach(function(dismissButton) {\n              dismissButton.addEventListener('click', function(event) {\n                WPStagingBackupManageSchedules.dismissSchedule(event.target);\n              });\n            });\n          },\n      );\n    },\n    dismissSchedule(dismissTarget) {\n      const scheduleId = dismissTarget.dataset.scheduleId;\n\n      WPStagingCommon.ajax(\n          {\n            action: 'wpstg--backups-dismiss-schedule',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n            scheduleId: scheduleId,\n          },\n          function(response) {\n            if (!response.success) {\n              WPStagingCommon.showErrorModal(response.data);\n              return;\n            } else {\n              WPStagingBackupManageSchedules.fetchSchedules();\n            }\n            console.log(response);\n          },\n      );\n    },\n  };\n}(jQuery));\n\nexport default WPStagingBackupManageSchedules;\n"],"names":["parent","selector","onOver","onOut","x","y","pX","pY","mouseOver","focused","h","state","timer","options","sensitivity","interval","timeout","handleFocus","delay","el","e","clearTimeout","undefined","tracker","clientX","clientY","compare","Math","abs","setTimeout","opt","focusOptionChanged","Object","assign","addFocus","removeFocus","dispatchOver","removeEventListener","addEventListener","onMouseOver","event","target","matches","closest","dispatchOut","onMouseOut","dispatchFocus","onFocus","dispatchBlur","onBlur","remove","$","WPStagingCommon","continueErrorHandle","cache","elements","get","inArray","refresh","setJobId","jobId","localStorage","setItem","getJobId","getItem","listenTooltip","wpstgHoverIntent","document","querySelector","style","visibility","isEmpty","obj","prop","hasOwnProperty","getSwalModal","isContentCentered","customClasses","defaultCustomClasses","confirmButton","cancelButton","actions","popup","customClass","buttonsStyling","reverseButtons","showClass","wpstgSwal","mixin","showSuccessModal","htmlContent","fire","showConfirmButton","showCancelButton","cancelButtonText","icon","title","html","showWarningModal","showErrorModal","getSwalContainer","getContainer","closeSwalModal","close","getDataFromWordPressResponse","response","Error","success","data","Array","length","shift","isLoading","hide","show","slugify","url","toString","toLowerCase","normalize","replace","showAjaxFatalError","prependMessage","appendMessage","showError","window","WPStaging","warnIfClosingDuringProcess","error","message","handleFetchErrors","ok","status","statusText","css","text","removeClass","resetErrors","ajax","callback","dataType","showErrors","tryCount","incrementRatio","errorCallback","retryLimit","retryTimeout","parseInt","isNaN","ajaxurl","Date","now","type","xhr","textStatus","errorThrown","console","log","errorCode","statusCode","jQuery","polyfillClosest","Element","prototype","msMatchesSelector","webkitMatchesSelector","s","call","parentElement","parentNode","nodeType","element","qs","WPStagingBackup","fetchListing","fetch","random","method","credentials","body","URLSearchParams","action","accessToken","wpstg","nonce","headers","then","res","json","$ul","empty","performingCancelRequest","isCancelled","isFinished","processInfo","isOnlySchedule","modal","create","confirmBtnTxt","process","cancelBtnTxt","download","btnTxtNext","btnTxtConfirm","btnTxtCancel","searchReplaceForm","containerIntroduction","file","fileObject","search","backupMetadata","baseDirectory","messages","WARNING","ERROR","INFO","DEBUG","CRITICAL","all","info","critical","warning","debug","shouldWarn","countByType","addMessage","isArray","forEach","item","push","reset","totalSeconds","start","prettify","seconds","toISOString","substr","setInterval","stop","clearInterval","hasResponse","reTryAfter","isResetErrors","dispatchEvent","Event","cancel","extraParams","showCloseButton","showLoaderOnConfirm","allowEscapeKey","allowOutsideClick","width","onRender","sendCancelRequest","isInit","jobIdBeingCancelled","execute","onResponse","$modal","btnTxt","attr","off","on","logBtn","preventDefault","container","$logs","find","toggle","is","i18n","hideLogs","childNodes","showLogs","isShowCancelButton","content","_btnCancel","getElementsByClassName","btnCancel","cloneNode","replaceChild","confirm","onAfterClose","processResponse","$container","statusTitle","percentage","logs","$logsContainer","stoppingTypes","msgClass","append","date","includes","CustomEvent","detail","logsModal","scrollTop","scrollHeight","$btnShowLogs","job_done","$errorContainer","$translations","before","warnings","onOpen","downloadModal","bodyText","$el","statusStop","statusStart","currentStatusTitle","WPStagingBackupCreate","listen","clickedBackup","warnExportMediaWithoutDatabase","disableButtonIfNoSelection","$newBackupModal","focusConfirm","confirmButtonText","preConfirm","selectedStorages","querySelectorAll","storages","storage","value","name","isExportingPlugins","isExportingMuPlugins","isExportingThemes","isExportingUploads","isExportingOtherWpContentFiles","isExportingDatabase","repeatBackupOnSchedule","scheduleRecurrence","scheduleTime","scheduleRotation","isCreateScheduleBackupNow","formValues","prepareBackup","wpstgExportData","createBackup","shouldCleanUp","responseJSON","maxBackupSequentialReturnError","backupReturnedError","delayReq","backupMd5","timesWaited","intervalWaitForBackupInDom","backupSize","getElementById","checked","isExportingMediaLibrary","display","isExportingAnyDir","isExportingOtherFilesInWpContent","WPStagingBackupDelete","result","md5","getAttribute","WPStagingBackupEdit","edit","$this","notes","WPStagingBackupRestore","clickedRestore","selectedBackup","responseData","JSON","parse","mainNetwork","networks","keys","mainBlog","blogs","postData","FormData","importModal","confirmHtml","importSiteBackup","logEntries","innerHTML","issueFound","loginText","onClose","location","reload","loginUrl","URL","searchParams","set","href","progressSteps","queue","first","singleOrMulti","wpstgImportData","WPStagingBackupUpload","isUploading","resumable","resumableFile","id","uploadModal","uploadNotSupported","setModalStateStart","setModalStateUploading","eventListenerConfirmCancelUpload","deleteUnfinishedUploads","Resumable","ajaxUrl","chunkSize","maxUploadChunkSize","query","uniqueIdentifierSuffix","floor","permanentErrors","fileType","simultaneousUploads","prioritizeFirstAndLastChunk","testChunks","forceChunkSize","support","assignBrowse","assignDrop","handleFileAdded","handleFileSuccess","handleError","handleProgress","upload","percent","progress","textContent","isDiskFull","backupFailedValidation","reduceChunkBytes","max","opts","ceil","files","retry","WPStagingBackupManageSchedules","manageSchedulesModal","fetchSchedules","dismissButton","dismissSchedule","dismissTarget","scheduleId","dataset"],"mappings":"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"}