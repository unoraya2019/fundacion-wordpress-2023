{"version":3,"file":"wpstg-admin-pro.min.js","sources":["../../src/modules/wpstg-dom-utils.js","../../src/modules/wpstg-polyfill.js","../../src/pro/modules/wpstg-clone-edit.js","../../src/pro/modules/wpstg-push-table-selection.js","../../src/pro/modules/wpstg-push-file-selection.js","../../src/pro/modules/wpstg-remote-storage.js","../../src/modules/wpstg-hover-intent.js","../../src/pro/wpstg-admin-pro.js","../../src/wpstg.js"],"sourcesContent":["import {closest} from './wpstg-polyfill';\n\n/**\n * WP STAGING basic jQuery replacement\n */\n\n/**\n * Shortcut for document.querySelector() or jQuery's $()\n * Return single element only\n */\nexport function qs(selector) {\n  return document.querySelector(selector);\n}\n\n/**\n * Shortcut for document.querySelector() or jQuery's $()\n * Return collection of elements\n */\nexport function all(selector) {\n  return document.querySelectorAll(selector);\n}\n\n/**\n * alternative of jQuery - $(parent).on(event, selector, handler)\n */\nexport function addEvent(parent, evt, selector, handler) {\n  if (!parent instanceof Element) {\n    return;\n  }\n\n  parent.addEventListener(evt, function(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      handler(event.target.closest(selector), event);\n    }\n  }, false);\n}\n\nexport function slideDown(element, duration = 400) {\n  element.style.display = 'block';\n  element.style.overflow = 'hidden';\n  const height = element.offsetHeight;\n  element.style.height = '0px';\n  element.style.transitionProperty = 'height';\n  element.style.transitionDuration = duration + 'ms';\n  setTimeout(() => {\n    element.style.height = height + 'px';\n    window.setTimeout(() => {\n      element.style.removeProperty('height');\n      element.style.removeProperty('overflow');\n      element.style.removeProperty('transition-duration');\n      element.style.removeProperty('transition-property');\n    }, duration);\n  }, 0);\n}\n\nexport function slideUp(element, duration = 400) {\n  element.style.display = 'block';\n  element.style.overflow = 'hidden';\n  const height = element.offsetHeight;\n  element.style.height = height + 'px';\n  element.style.transitionProperty = 'height';\n  element.style.transitionDuration = duration + 'ms';\n  setTimeout(() => {\n    element.style.height = '0px';\n    window.setTimeout(() => {\n      element.style.display = 'none';\n      element.style.removeProperty('height');\n      element.style.removeProperty('overflow');\n      element.style.removeProperty('transition-duration');\n      element.style.removeProperty('transition-property');\n    }, duration);\n  }, 0);\n}\n\nexport function fadeOut(element, duration = 300) {\n  element.style.opacity = 1;\n  element.style.transitionProperty = 'opacity';\n  element.style.transitionDuration = duration + 'ms';\n  setTimeout(() => {\n    element.style.opacity = 0;\n    window.setTimeout(() => {\n      element.style.display = 'none';\n      element.style.removeProperty('opacity');\n      element.style.removeProperty('transition-duration');\n      element.style.removeProperty('transition-property');\n    }, duration);\n  }, 0);\n}\n\nexport function getNextSibling(element, selector) {\n  let sibling = element.nextElementSibling;\n\n  while (sibling) {\n    if (sibling.matches(selector)) {\n      return sibling;\n    }\n\n    sibling = sibling.nextElementSibling;\n  }\n};\n\nexport function getParents(element, selector) {\n  const result = [];\n  for (let parent = element && element.parentElement; parent; parent = parent.parentElement) {\n    if (parent.matches(selector)) {\n      result.push(parent);\n    }\n  }\n\n  return result;\n}\n\n/**\n * Check if element has class name\n * @param element\n * @param className\n * @return {boolean}\n */\nexport function hasClass(element, className) {\n  return (' ' + element.className + ' ').indexOf(' ' + className+ ' ') > -1;\n}\n\n/**\n * Dispatches a change on an element that will trigger, depending on the element type,\n * cascading changes on elements dependant on the one that triggered the change and that\n * belong in the same container.\n *\n * @param {Element} element A reference to the Element the change was triggered from.\n *\n * @return {void} The function does not return any value and will have the side-effect of\n *                hiding or showing dependant elements.\n */\nexport function handleDisplayDependencies(element) {\n  if (!element instanceof Element || !element.id) {\n    return;\n  }\n\n  const containerSelector = '.wpstg-container';\n  // Use the default WordPress CSS class to hide and show the objects.\n  const hiddenClass = 'hidden';\n  const elementType = element.getAttribute('type');\n\n  switch (elementType) {\n    case 'checkbox':\n      // Go as high as the container that contains this element.\n      const container = closest(element, containerSelector);\n\n      if (container === null) {\n        return;\n      }\n\n      const showIfChecked = container.querySelectorAll(`[data-show-if-checked=\"${element.id}\"]`);\n      const showIfUnchecked = container.querySelectorAll(`[data-show-if-unchecked=\"${element.id}\"]`);\n      const checked = element.checked;\n\n      if (showIfChecked.length) {\n        for (const el of showIfChecked) {\n          if (checked) {\n            el.classList.remove(hiddenClass);\n          } else {\n            el.classList.add(hiddenClass);\n          }\n        }\n      }\n\n      if (showIfUnchecked.length) {\n        for (const el of showIfUnchecked) {\n          if (checked) {\n            el.classList.add(hiddenClass);\n          } else {\n            el.classList.remove(hiddenClass);\n          }\n        }\n      }\n\n      return;\n    default:\n      // Not a type we handle.\n      return;\n  }\n}\n\n/**\n * Initializes the display status of any element that depends on the status of another to\n * either hide or show.\n *\n * @return {void} The function will have the side-effect to toggle the hide/show class from\n *                elements dependant on another to hide or show.\n */\nexport function initDependantDisplay() {\n  const displayControllerSelector = '[onchange^=\"WPStaging.handleDisplayDependencies\"]';\n  const displayControllers = document.querySelectorAll(displayControllerSelector);\n  for (const displayController of displayControllers) {\n    handleDisplayDependencies(displayController);\n  }\n}\n\n/**\n * Toggle target element set in data-wpstg-target of the given element\n *\n * @param {Element} element A reference to the Element the change was triggered from.\n *\n * @return {void} The function does not return any value and will have the side-effect of\n *                hiding or showing dependant elements.\n */\nexport function handleToggleElement(element) {\n  if (!element instanceof Element || !element.getAttribute('data-wpstg-target')) {\n    return;\n  }\n\n  const containerSelector = '.wpstg_admin';\n  // Use the default WordPress CSS class to hide and show the objects.\n  const hiddenClass = 'hidden';\n\n  // Go as high as the container that contains this element.\n  const container = closest(element, containerSelector);\n\n  if (container === null) {\n    return;\n  }\n\n  const elements = container.querySelectorAll(element.getAttribute('data-wpstg-target'));\n\n  if (elements.length) {\n    for (const el of elements) {\n      el.classList.toggle(hiddenClass);\n    }\n  }\n}\n\n/**\n * Copy text in data-wpstg-copy to element(s) in data-wpstg-target\n *\n * @param {Element} element\n *\n * @return {void}\n */\nexport function handleCopyPaste(element) {\n  if (!element instanceof Element || !element.getAttribute('data-wpstg-target') || !element.getAttribute('data-wpstg-copy')) {\n    return;\n  }\n\n  const containerSelector = '.wpstg_admin';\n\n  // Go as high as the container that contains this element.\n  const container = closest(element, containerSelector);\n\n  if (container === null) {\n    return;\n  }\n\n  navigator.clipboard.writeText(element.getAttribute('data-wpstg-copy'));\n  const elements = container.querySelectorAll(element.getAttribute('data-wpstg-target'));\n\n  if (elements.length) {\n    for (const el of elements) {\n      el.value = element.getAttribute('data-wpstg-copy', '');\n    }\n  }\n}\n\n/**\n * Copy text in data-wpstg-source to clipboard\n *\n * @param {Element} element\n *\n * @return {void}\n */\nexport function handleCopyToClipboard(element) {\n  if (!element instanceof Element || !element.getAttribute('data-wpstg-source')) {\n    return;\n  }\n\n  const containerSelector = '.wpstg_admin';\n\n  // Go as high as the container that contains this element.\n  const container = closest(element, containerSelector);\n\n  if (container === null) {\n    return;\n  }\n\n  const el = container.querySelector(element.getAttribute('data-wpstg-source'));\n\n  if (el) {\n    navigator.clipboard.writeText(el.value);\n  }\n}\n\n","/**\n * Polyfills the `Element.prototype.closest` function if not available in the browser.\n *\n * @return {Function} A function that will return the closest element, by selector, to this element.\n */\nfunction polyfillClosest() {\n  if (Element.prototype.closest) {\n    if (!Element.prototype.matches) {\n      Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n    }\n\n    Element.prototype.closest = function(s) {\n      let el = this;\n\n      do {\n        if (Element.prototype.matches.call(el, s)) return el;\n        el = el.parentElement || el.parentNode;\n      } while (el !== null && el.nodeType === 1);\n      return null;\n    };\n  }\n\n  return function(element, selector) {\n    return element instanceof Element ? element.closest(selector) : null;\n  };\n}\n\nexport const closest = polyfillClosest();\n","\nimport * as dom from './../../modules/wpstg-dom-utils.js';\n\n// Delay time in millisecond after which the request is send to check db connection\n// This is to make sure we have not many ajax request even when they were not required i.e. while typing.\nexport const DELAY_TIME_DB_CHECK = 300;\nexport default class WpstgCloneEdit {\n  constructor(\n      workflowSelector = '#wpstg-workflow',\n      dbCheckTriggerClass = '.wpstg-edit-clone-db-inputs',\n      wpstgObject = wpstg,\n      databaseCheckAction = 'wpstg_database_connect',\n  ) {\n    this.workflow = dom.qs(workflowSelector);\n    this.dbCheckTriggerClass = dbCheckTriggerClass;\n    this.wpstgObject = wpstgObject;\n    this.databaseCheckAction = databaseCheckAction;\n    this.dbCheckTimer = null;\n    this.abortDbCheckController = null;\n    this.dbCheckCallStatus = false;\n    this.notyf = new Notyf({\n      duration: 10000,\n      position: {\n        x: 'center',\n        y: 'bottom',\n      },\n      dismissible: true,\n      types: [\n        {\n          type: 'warning',\n          background: 'orange',\n          icon: false,\n        },\n      ],\n    });\n    this.init();\n  }\n\n  addEvents() {\n    // early bail if workflow object not available.\n    if (this.workflow === null) {\n      return;\n    }\n\n    ['paste', 'input'].forEach( (evt) => {\n      dom.addEvent(this.workflow, evt, this.dbCheckTriggerClass, () => {\n        // abort previous database check call if it was running\n        if (this.dbCheckCallStatus === true) {\n          this.abortDbCheckController.abort();\n          this.abortDbCheckController = null;\n          this.dbCheckCallStatus = false;\n        }\n\n        // check for db connection after specific delay but reset the timer if these event occur again\n        clearTimeout(this.dbCheckTimer);\n        this.dbCheckTimer = setTimeout(() => {\n          this.checkDatabase();\n        }, DELAY_TIME_DB_CHECK);\n      });\n    });\n  }\n\n  init() {\n    this.addEvents();\n  }\n\n  checkDatabase() {\n    const idPrefix = '#wpstg-edit-clone-data-';\n    const externalDBUser = dom.qs(idPrefix + 'database-user').value;\n    const externalDBPassword = dom.qs(idPrefix + 'database-password').value;\n    const externalDBDatabase = dom.qs(idPrefix + 'database-database').value;\n    const externalDBHost = dom.qs(idPrefix + 'database-server').value;\n    const externalDBPrefix = dom.qs(idPrefix + 'database-prefix').value;\n\n    if (externalDBUser === '' && externalDBPassword === '' && externalDBDatabase === '' && externalDBPrefix === '') {\n      dom.qs('#wpstg-save-clone-data').disabled = false;\n      return;\n    }\n\n    this.abortDbCheckController = new AbortController();\n    this.dbCheckCallStatus = true;\n\n    fetch(this.wpstgObject.ajaxUrl, {\n      method: 'POST',\n      signal: this.abortDbCheckController.signal,\n      credentials: 'same-origin',\n      body: new URLSearchParams({\n        action: this.databaseCheckAction,\n        accessToken: this.wpstgObject.accessToken,\n        nonce: this.wpstgObject.nonce,\n        databaseUser: externalDBUser,\n        databasePassword: externalDBPassword,\n        databaseServer: externalDBHost,\n        databaseDatabase: externalDBDatabase,\n        databasePrefix: externalDBPrefix,\n        databaseEnsurePrefixTableExist: true,\n      }),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }).then((response) => {\n      this.dbCheckCallStatus = false;\n      if (response.ok) {\n        return response.json();\n      }\n\n      return Promise.reject(response);\n    }).then((data) => {\n      // dismiss previous toasts\n      this.notyf.dismissAll();\n      // failed request\n      if (false === data) {\n        this.notyf.error(this.wpstgObject.i18n['dbConnectionFailed']);\n        dom.qs('#wpstg-save-clone-data').disabled = true;\n        return;\n      }\n\n      // failed db connection\n      if ('undefined' !== typeof (data.errors) && data.errors && 'undefined' !== typeof (data.success) && data.success === 'false') {\n        this.notyf.error(this.wpstgObject.i18n['dbConnectionFailed'] +'! <br/> Error: '+ data.errors);\n        dom.qs('#wpstg-save-clone-data').disabled = true;\n        return;\n      }\n\n      // prefix warning\n      if ('undefined' !== typeof (data.errors) && data.errors && 'undefined' !== typeof (data.success) && data.success === 'true') {\n        this.notyf.open({\n          type: 'warning',\n          message: 'Warning: ' + data.errors,\n        });\n        dom.qs('#wpstg-save-clone-data').disabled = true;\n        return;\n      }\n\n      // db connection successful\n      if ('undefined' !== typeof (data.success) && data.success) {\n        this.notyf.success(this.wpstgObject.i18n['dbConnectionSuccess']);\n        dom.qs('#wpstg-save-clone-data').disabled = false;\n      }\n    }).catch((error) => {\n      this.dbCheckCallStatus = false;\n      console.warn(this.wpstgObject.i18n['somethingWentWrong'], error);\n      dom.qs('#wpstg-save-clone-data').disabled = true;\n    });\n  }\n}\n","\nimport * as dom from './../../modules/wpstg-dom-utils';\n\n/**\n * Push Table Selection\n */\nexport default class WpstgPushTableSelection {\n  constructor(\n      workflowSelector = '#wpstg-workflow',\n      inputSelector = '#wpstg_select_tables_pushing',\n      wpstgObject = wpstg,\n  ) {\n    this.workflow = dom.qs(workflowSelector);\n    this.inputSelector = inputSelector;\n    this.input = dom.qs(inputSelector);\n    this.wpstgObject = wpstgObject;\n    this.cloneID = this.input.getAttribute('data-clone');\n    this.tablePrefix = this.input.getAttribute('data-prefix');\n    this.isNetwork = this.input.getAttribute('data-network') === 'true';\n    this.areAllTablesChecked = true;\n\n    this.init();\n  }\n\n  addEvents() {\n    dom.addEvent(document.body, 'click', '.wpstg-button-show-tables', (target) => {\n      this.showAllTables();\n    });\n\n    dom.addEvent(document.body, 'click', '.wpstg-button-db-prefix', () => {\n      this.selectDefaultTables();\n    });\n\n    dom.addEvent(document.body, 'click', '.wpstg-button-unselect', () => {\n      this.toggleTableSelection();\n    });\n\n    dom.addEvent(document.body, 'change', this.inputSelector, () => {\n      this.countSelectedTables();\n    });\n  }\n\n  init() {\n    this.addEvents();\n  }\n\n  showAllTables() {\n    let includedTables = this.getIncludedTables();\n    let excludedTables = this.getExcludedTables();\n\n    if (includedTables.length > excludedTables.length) {\n      includedTables = '';\n    } else if (excludedTables.length > includedTables.length) {\n      excludedTables = '';\n    }\n\n    fetch(this.wpstgObject.ajaxUrl, {\n      method: 'POST',\n      credentials: 'same-origin',\n      body: new URLSearchParams({\n        action: 'wpstg_push_tables',\n        accessToken: this.wpstgObject.accessToken,\n        nonce: this.wpstgObject.nonce,\n        clone: this.cloneID,\n        includedTables: includedTables,\n        excludedTables: excludedTables,\n        selectedTablesWithoutPrefix: this.getSelectedTablesWithoutPrefix(),\n      }),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }).then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      return Promise.reject(response);\n    }).then((data) => {\n      // Reload current page if successful.\n      if ('undefined' !== typeof (data.success) && data.success) {\n        this.input.innerHTML = data.content;\n        dom.fadeOut(dom.qs('.wpstg-button-show-tables'), 300);\n\n        this.countSelectedTables();\n        return;\n      }\n\n      // There will be message probably in case of error\n      if ('undefined' !== typeof (data.message)) {\n        this.notyf.error(data.message);\n        return;\n      }\n\n      this.notyf.error(this.wpstgObject.i18n['somethingWentWrong']);\n    }).catch((error) => {\n      console.warn(this.wpstgObject.i18n['somethingWentWrong'], error);\n    });\n  }\n\n  getRegexPattern() {\n    let pattern = '^' + this.tablePrefix;\n    if (this.wpstgObject.isMultisite === '1' && !this.isNetwork) {\n      pattern += '([^0-9])_*';\n    }\n\n    return pattern;\n  }\n\n  selectDefaultTables() {\n    const options = this.input.querySelectorAll('.wpstg-db-table');\n    const pattern = this.getRegexPattern();\n    options.forEach((option) => {\n      const name = option.getAttribute('name', '');\n      if (name.match(pattern)) {\n        option.selected = true;\n      } else {\n        option.selected = false;\n      }\n    });\n\n    this.countSelectedTables();\n  }\n\n  toggleTableSelection() {\n    if (false === this.areAllTablesChecked) {\n      this.input.querySelectorAll('.wpstg-db-table').forEach((option) => {\n        option.selected = true;\n      });\n\n      this.workflow.querySelector('.wpstg-button-unselect').innerHTML = 'Unselect All';\n      this.areAllTablesChecked = true;\n    } else {\n      this.input.querySelectorAll('.wpstg-db-table').forEach((option) => {\n        option.selected = false;\n      });\n      this.workflow.querySelector('.wpstg-button-unselect').innerHTML = 'Select All';\n      this.areAllTablesChecked = false;\n    }\n\n    this.countSelectedTables();\n  }\n\n  getSelectedTablesWithoutPrefix() {\n    const selectedTablesWithoutPrefix = [];\n    const regexPattern = this.getRegexPattern();\n    this.input.querySelectorAll('option:checked').forEach((option) => {\n      const name = option.getAttribute('name', '');\n      if (!name.match(regexPattern)) {\n        selectedTablesWithoutPrefix.push(name);\n      }\n    });\n\n    return selectedTablesWithoutPrefix.join(this.wpstgObject.settings.directorySeparator);\n  }\n\n  getIncludedTables() {\n    const tables = [];\n    const regexPattern = this.getRegexPattern();\n    this.input.querySelectorAll('option:checked').forEach((option) => {\n      const name = option.getAttribute('name', '');\n      if (name.match(regexPattern)) {\n        tables.push(name);\n      }\n    });\n\n    return tables.join(this.wpstgObject.settings.directorySeparator);\n  }\n\n  getExcludedTables() {\n    const tables = [];\n    const regexPattern = this.getRegexPattern();\n    this.input.querySelectorAll('option:not(:checked)').forEach((option) => {\n      const name = option.getAttribute('name', '');\n      if (name.match(regexPattern)) {\n        tables.push(name);\n      }\n    });\n\n    return tables.join(this.wpstgObject.settings.directorySeparator);\n  }\n\n  countSelectedTables() {\n    const tablesCount = this.input.querySelectorAll('option:checked').length;\n    const tablesCountElement = dom.qs('#wpstg-tables-count');\n    if (tablesCount === 0) {\n      tablesCountElement.classList.add('danger');\n      tablesCountElement.innerHTML = this.wpstgObject.i18n['noTableSelected'];\n    } else {\n      tablesCountElement.classList.remove('danger');\n      tablesCountElement.innerHTML = this.wpstgObject.i18n['tablesSelected'].replace('{d}', tablesCount);\n    }\n  }\n}\n","\nimport * as dom from './../../modules/wpstg-dom-utils';\n\n/**\n * Push File Selection\n */\nexport default class WpstgPushFileSelection {\n  constructor(\n      workflowSelector = '#wpstg-workflow',\n      filesTabSelector = '#wpstg-scanning-files',\n      dirSelector = '.wpstg-check-dir',\n      wpstgObject = wpstg,\n  ) {\n    this.workflow = dom.qs(workflowSelector);\n    this.filesTabSelector = filesTabSelector;\n    this.filesTab = dom.qs(filesTabSelector);\n    this.dirSelector = dirSelector;\n    this.wpstgObject = wpstgObject;\n\n    this.init();\n  }\n\n  addEvents() {\n    dom.addEvent(this.workflow, 'change', this.filesTabSelector + ' ' + this.dirSelector, (el) => {\n      this.toggleChildren(el);\n      this.countSelectedFiles();\n    });\n  }\n\n  init() {\n    this.addEvents();\n  }\n\n  toggleChildren(el) {\n    const parent = dom.getParents(el, '.wpstg-dir')[0];\n    const checkboxes = parent.querySelectorAll('.wpstg-subdir>.wpstg-dir>' + this.dirSelector);\n    checkboxes.forEach((cb) => {\n      cb.checked = el.checked;\n    });\n  }\n\n  countSelectedFiles() {\n    const filesCount = this.filesTab.querySelectorAll(this.dirSelector + ':checked').length;\n    const filesCountElement = dom.qs('#wpstg-files-count');\n    if (filesCount === 0) {\n      filesCountElement.classList.add('danger');\n      filesCountElement.innerHTML = this.wpstgObject.i18n['noFileSelected'];\n    } else {\n      let themesCount = 0;\n      let pluginsCount = 0;\n      filesCountElement.classList.remove('danger');\n      this.filesTab.querySelectorAll('.wpstg-dir:not(.wpstg-sub-dir)>.wpstg-expand-dirs').forEach((head) => {\n        if (head.innerHTML === 'plugins') {\n          pluginsCount = head.nextSibling.querySelectorAll(this.dirSelector + ':checked').length;\n        }\n\n        if (head.innerHTML === 'themes') {\n          themesCount = head.nextSibling.querySelectorAll(this.dirSelector + ':checked').length;\n        }\n      });\n\n      filesCountElement.innerHTML = this.wpstgObject.i18n['filesSelected'].replace('{t}', themesCount).replace('{p}', pluginsCount);\n    }\n  }\n}\n","\nimport * as dom from './../../modules/wpstg-dom-utils.js';\n\nexport default class WpstgRemoteStorage {\n  constructor(\n      revokeButtonSelector = '#wpstg-btn-provider-revoke',\n      revokeProviderFormSelector = '#wpstg-provider-revoke-form',\n      revokeAction = 'wpstg-provider-revoke',\n      settingsButtonSelector = '#wpstg-btn-save-provider-settings',\n      settingsFormSelector = '#wpstg-provider-settings-form',\n      settingsAction = 'wpstg-provider-settings',\n      authenticateButtonSelector = '#wpstg-btn-provider-authenticate',\n      authenticateFormSelector = '#wpstg-provider-authenticate-form',\n      authenticateAction = 'wpstg-provider-authenticate',\n      testConnectionButtonSelector = '#wpstg-btn-provider-test-connection',\n      testConnectionFieldsSelector = '#wpstg-provider-test-connection-fields',\n      testConnectionAction = 'wpstg-provider-test-connection',\n      wpstgObject = wpstg,\n  ) {\n    this.revokeButtonSelector = revokeButtonSelector;\n    this.revokeForm = dom.qs(revokeProviderFormSelector);\n    this.revokeAction = revokeAction;\n    this.settingsButtonSelector = settingsButtonSelector;\n    this.settingsForm = dom.qs(settingsFormSelector);\n    this.settingsAction = settingsAction;\n    this.authenticateButtonSelector = authenticateButtonSelector;\n    this.authenticateForm = dom.qs(authenticateFormSelector);\n    this.authenticateAction = authenticateAction;\n    this.testConnectionButtonSelector = testConnectionButtonSelector;\n    this.testConnectionFields = dom.qs(testConnectionFieldsSelector);\n    this.testConnectionAction = testConnectionAction;\n    this.wpstgObject = wpstgObject;\n    this.notyf = new Notyf({\n      duration: 2000,\n      position: {\n        x: 'center',\n        y: 'bottom',\n      },\n      dismissible: true,\n    });\n    this.init();\n  }\n\n  addEvents() {\n    dom.addEvent(document.body, 'click', this.revokeButtonSelector, async (target) => {\n      await this.sendRevokeRequest();\n    });\n\n    dom.addEvent(document.body, 'click', this.settingsButtonSelector, async (target) => {\n      await this.sendSettingsRequest();\n    });\n\n    dom.addEvent(document.body, 'click', this.authenticateButtonSelector, async (target) => {\n      await this.sendAuthenticateRequest();\n    });\n\n    dom.addEvent(document.body, 'click', this.testConnectionButtonSelector, async (target) => {\n      await this.sendTestConnectionRequest();\n    });\n\n    dom.addEvent(document.body, 'change', '[name=\\'ftp_type\\']', async (target) => {\n      await this.toggleSftpFields();\n    });\n  }\n\n  init() {\n    this.addEvents();\n  }\n\n  async sendRevokeRequest() {\n    const provider = this.revokeForm.querySelector('input[name=\"provider\"]').value;\n    try {\n      const response = await fetch(this.wpstgObject.ajaxUrl, {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: new URLSearchParams({\n          action: this.revokeAction,\n          accessToken: this.wpstgObject.accessToken,\n          nonce: this.wpstgObject.nonce,\n          provider: provider,\n        }),\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n      });\n\n      if (!response.ok) {\n        console.error(`An error has occured: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      if (data.success) {\n        this.notyf.success(data.message);\n        setTimeout(() => {\n          window.location.reload();\n        }, 3000);\n        return;\n      }\n\n      this.notyf.error(data.message);\n    } catch (error) {\n      console.warn(error);\n    }\n  }\n\n  async sendSettingsRequest() {\n    const formData = new FormData(this.settingsForm);\n    formData.append('action', this.settingsAction);\n    formData.append('accessToken', this.wpstgObject.accessToken);\n    formData.append('nonce', this.wpstgObject.nonce);\n\n    const queryString = new URLSearchParams(formData);\n    try {\n      const response = await fetch(this.wpstgObject.ajaxUrl, {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: queryString,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n      });\n\n      if (!response.ok) {\n        console.error(`An error has occured: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      if (data.success) {\n        this.notyf.success(data.message);\n        setTimeout(() => {\n          window.location.reload();\n        }, 2000);\n        return;\n      }\n\n      this.notyf.error(data.message);\n    } catch (error) {\n      console.warn(error);\n    }\n  }\n\n  async sendAuthenticateRequest() {\n    const formData = new FormData(this.authenticateForm);\n    formData.append('action', this.authenticateAction);\n    formData.append('accessToken', this.wpstgObject.accessToken);\n    formData.append('nonce', this.wpstgObject.nonce);\n    const queryString = new URLSearchParams(formData);\n    try {\n      const response = await fetch(this.wpstgObject.ajaxUrl, {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: queryString,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n      });\n\n      if (!response.ok) {\n        console.error(`An error has occured: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      if (data.success) {\n        this.notyf.success(data.message);\n        setTimeout(() => {\n          window.location.reload();\n        }, 2000);\n        return;\n      }\n\n      this.notyf.error(data.message);\n    } catch (error) {\n      console.warn(error);\n    }\n  }\n\n  async sendTestConnectionRequest() {\n    const fields = this.testConnectionFields.querySelectorAll('[name]');\n    const formData = new FormData();\n    formData.append('action', this.testConnectionAction);\n    formData.append('accessToken', this.wpstgObject.accessToken);\n    formData.append('nonce', this.wpstgObject.nonce);\n    fields.forEach((element) => {\n      formData.append(element.getAttribute('name'), element.value);\n    });\n\n    const queryString = new URLSearchParams(formData);\n    try {\n      const response = await fetch(this.wpstgObject.ajaxUrl, {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: queryString,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n      });\n\n      if (!response.ok) {\n        console.error(`An error has occured: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      if (data.success) {\n        this.notyf.success(data.message);\n        return;\n      }\n\n      this.notyf.error(data.message);\n    } catch (error) {\n      console.warn(error);\n    }\n  }\n\n  toggleSftpFields() {\n    const ftpType = document.querySelector('[name=\\'ftp_type\\']');\n    const sftpElements = document.querySelectorAll('.only-sftp');\n    const ftpElements = document.querySelectorAll('.only-ftp');\n    if (ftpType.value === 'ftp') {\n      if (sftpElements.length) {\n        for (const el of sftpElements) {\n          el.classList.add('hidden');\n        }\n      }\n\n      if (ftpElements.length) {\n        for (const el of ftpElements) {\n          el.classList.remove('hidden');\n        }\n      }\n\n      return;\n    }\n\n    if (sftpElements.length) {\n      for (const el of sftpElements) {\n        el.classList.remove('hidden');\n      }\n    }\n\n    if (ftpElements.length) {\n      for (const el of ftpElements) {\n        el.classList.add('hidden');\n      }\n    }\n  }\n}\n","'use strict';\n\n/**\n * This is a namespaced port of https://github.com/tristen/hoverintent,\n * with slight modification to accept selector with dynamically added element in dom,\n * instead of just already present element.\n *\n * @param {HTMLElement} parent\n * @param {string} selector\n * @param {CallableFunction} onOver\n * @param {CallableFunction} onOut\n *\n * @return {object}\n */\nexport default function(parent, selector, onOver, onOut) {\n  let x; let y; let pX; let pY;\n  let mouseOver = false;\n  let focused = false;\n  const h = {};\n  let state = 0;\n  let timer = 0;\n\n  let options = {\n    sensitivity: 7,\n    interval: 100,\n    timeout: 0,\n    handleFocus: false,\n  };\n\n  function delay(el, e) {\n    if (timer) {\n      timer = clearTimeout(timer);\n    }\n\n    state = 0;\n    return focused ? undefined : onOut(el, e);\n  }\n\n  function tracker(e) {\n    x = e.clientX;\n    y = e.clientY;\n  }\n\n  function compare(el, e) {\n    if (timer) timer = clearTimeout(timer);\n    if ((Math.abs(pX - x) + Math.abs(pY - y)) < options.sensitivity) {\n      state = 1;\n      return focused ? undefined : onOver(el, e);\n    } else {\n      pX = x;\n      pY = y;\n      timer = setTimeout(function() {\n        compare(el, e);\n      }, options.interval);\n    }\n  }\n\n  // Public methods\n  h.options = function(opt) {\n    const focusOptionChanged = opt.handleFocus !== options.handleFocus;\n    options = Object.assign({}, options, opt);\n    if (focusOptionChanged) {\n            options.handleFocus ? addFocus() : removeFocus();\n    }\n\n    return h;\n  };\n\n  function dispatchOver(el, e) {\n    mouseOver = true;\n    if (timer) {\n      timer = clearTimeout(timer);\n    }\n\n    el.removeEventListener('mousemove', tracker, false);\n\n    if (state !== 1) {\n      pX = e.clientX;\n      pY = e.clientY;\n\n      el.addEventListener('mousemove', tracker, false);\n\n      timer = setTimeout(function() {\n        compare(el, e);\n      }, options.interval);\n    }\n\n    return this;\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchOver to support dynamically added elements to dom\n   */\n  function onMouseOver(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchOver(event.target.closest(selector), event);\n    }\n  };\n\n  function dispatchOut(el, e) {\n    mouseOver = false;\n    if (timer) {\n      timer = clearTimeout(timer);\n    }\n\n    el.removeEventListener('mousemove', tracker, false);\n\n    if (state === 1) {\n      timer = setTimeout(function() {\n        delay(el, e);\n      }, options.timeout);\n    }\n\n    return this;\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchOut to support dynamically added elements to dom\n   */\n  function onMouseOut(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchOut(event.target.closest(selector), event);\n    }\n  };\n\n  function dispatchFocus(el, e) {\n    if (!mouseOver) {\n      focused = true;\n      onOver(el, e);\n    }\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchFocus to support dynamically added elements to dom\n   */\n  function onFocus(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchFocus(event.target.closest(selector), event);\n    }\n  };\n\n  function dispatchBlur(el, e) {\n    if (!mouseOver && focused) {\n      focused = false;\n      onOut(el, e);\n    }\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchBlur to support dynamically added elements to dom\n   */\n  function onBlur(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchBlur(event.target.closest(selector), event);\n    }\n  };\n\n  /**\n   * Modified to support dynamically added element\n   */\n  function addFocus() {\n    parent.addEventListener('focus', onFocus, false);\n    parent.addEventListener('blur', onBlur, false);\n  }\n\n  /**\n   * Modified to support dynamically added element\n   */\n  function removeFocus() {\n    parent.removeEventListener('focus', onFocus, false);\n    parent.removeEventListener('blur', onBlur, false);\n  }\n\n  /**\n   * Modified to support dynamically added element\n   */\n  h.remove = function() {\n    if (!parent) {\n      return;\n    }\n\n    parent.removeEventListener('mouseover', onMouseOver, false);\n    parent.removeEventListener('mouseout', onMouseOut, false);\n    removeFocus();\n  };\n\n  /**\n   * Modified to support dynamically added element\n   */\n  if (parent) {\n    parent.addEventListener('mouseover', onMouseOver, false);\n    parent.addEventListener('mouseout', onMouseOut, false);\n  }\n\n  return h;\n};\n","import WpstgCloneEdit from './modules/wpstg-clone-edit.js';\nimport WpstgPushTableSelection from './modules/wpstg-push-table-selection.js';\nimport WpstgPushFileSelection from './modules/wpstg-push-file-selection.js';\nimport WpstgRemoteStorage from './modules/wpstg-remote-storage.js';\nimport WPStagingCommon from '../wpstg.js';\n\nconst WPStagingPro = function($) {\n  const that = {\n    isCancelled: false,\n    isFinished: false,\n    getLogs: false,\n    tableSelector: null,\n    fileSelector: null,\n  };\n\n  // Cache Elements\n  const cache = {elements: []};\n\n  /**\n     * Get / Set Cache for Selector\n     * @param {String} selector\n     * @return {*}\n     */\n  cache.get = function(selector) {\n    // It is already cached!\n    if ($.inArray(selector, cache.elements) !== -1) {\n      return cache.elements[selector];\n    }\n\n    // Create cache and return\n    cache.elements[selector] = jQuery(selector);\n\n    return cache.elements[selector];\n  };\n\n  /**\n     * Refreshes given cache\n     * @param {String} selector\n     */\n  cache.refresh = function(selector) {\n    selector.elements[selector] = jQuery(selector);\n  };\n\n\n  /**\n     * Ajax Scanning before starting push process\n     */\n  const startScanning = function() {\n    // Scan db and file system\n    const $workFlow = cache.get('#wpstg-workflow');\n\n\n    $workFlow\n    // Load scanning data\n        .on('click', '.wpstg-push-changes', function(e) {\n          e.preventDefault();\n\n          const $this = $(this);\n\n          // Disable button\n          if ($this.attr('disabled')) {\n            return false;\n          }\n\n          // Add loading overlay\n          $workFlow.addClass('loading');\n\n          // Get clone id\n          // var cloneID = $this.data(\"clone\");\n          // Get clone id\n          const cloneID = $(this).data('clone');\n\n          // Prepare data\n          that.data = {\n            action: 'wpstg_scan',\n            clone: cloneID,\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n          };\n\n          // Send ajax request\n          WPStaging.ajax(\n              that.data,\n              function(response) {\n                if (response.length < 1) {\n                  showError(\n                      'Something went wrong! No response.  Go to WP Staging > Settings and lower \\'File Copy Limit\\' and \\'DB Query Limit\\'. Also set \\'CPU Load Priority to low \\'' +\n                                'and try again. If that does not help, ' +\n                                '<a href=\\'https://wp-staging.com/support/\\' target=\\'_blank\\'>open a support ticket</a> ',\n                  );\n                }\n\n                // Styling of elements\n                $workFlow.removeClass('loading').html(response);\n\n                WPStaging.switchStep(2);\n\n                cache.get('.wpstg-step3-cloning').hide();\n                cache.get('.wpstg-step3-pushing').show();\n\n                cache.get('.wpstg-loader').hide();\n                that.tableSelector = new WpstgPushTableSelection();\n                that.fileSelector = new WpstgPushFileSelection();\n                that.tableSelector.countSelectedTables();\n                that.fileSelector.countSelectedFiles();\n                // cache.get(\".wpstg-loader\").hide();\n              },\n              'HTML',\n          );\n        })\n    // Previous Button\n        .on('click', '.wpstg-prev-step-link', function(e) {\n          e.preventDefault();\n          WPStaging.loadOverview();\n        })\n        .on('click', '#wpstg-use-target-dir', function(e) {\n          e.preventDefault();\n          $('#wpstg_clone_dir').val(this.getAttribute('data-path'));\n        })\n        .on('click', '#wpstg-use-target-hostname', function(e) {\n          e.preventDefault();\n          $('#wpstg_clone_hostname').val(this.getAttribute('data-uri'));\n        })\n        .on('change', '#wpstg-delete-upload-before-pushing', function(e) {\n          if (e.currentTarget.checked) {\n            $('#wpstg-backup-upload-container').show();\n          } else {\n            $('#wpstg-backup-upload-container').hide();\n            $('#wpstg-backup-upload-before-pushing').removeAttr('checked');\n          }\n        });\n  };\n\n\n  // Start the whole pushing process\n  const startProcess = function() {\n    const $workFlow = cache.get('#wpstg-workflow');\n\n    // Click push changes button\n    $workFlow.on('click', '#wpstg-push-changes', function(e) {\n      e.preventDefault();\n\n      // Hide db tables and folder selection\n      cache.get('.wpstg-tabs-wrapper').hide();\n      cache.get('#wpstg-push-changes').hide();\n\n      // Show confirmation modal\n      const cloneName = cache.get('#wpstg-push-changes').data('clone-name');\n      const html = '<p class=\\'wpstg-push-confirmation-message\\'><b>WAIT!</b> This will overwrite the production/live site and its plugins, themes and media assets with data from the staging site: <b>\"' + cloneName + '\"</b>.  <br/><br/>Database data will be overwritten for each selected table. Take care if you use a shop system like WooCommerce and check out our FAQ! <br/><br/><b>IMPORTANT:</b> Before you proceed make sure that you have a full site backup. If the pushing process is not successful contact us at <a href=\\'mailto:support@wp-staging.com\\'>support@wp-staging.com</a> or use the <b>REPORT ISSUE</b> button.</p>';\n\n      confirmModal('Confirm Push!', html, 'Push', 'wpstg-confirm-push').then(function(result) {\n        if (result.value) {\n          cache.get('#wpstg-push-changes').attr('disabled', true);\n          cache.get('.wpstg-prev-step-link').attr('disabled', true);\n          cache.get('#wpstg-scanning-files').hide();\n          cache.get('.wpstg-progress-bar-wrapper').show();\n          WPStaging.switchStep(3);\n          window.addEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n          processing();\n\n          return;\n        }\n\n        // Show db tables and folder selection\n        cache.get('.wpstg-tabs-wrapper').show();\n        cache.get('#wpstg-push-changes').show();\n      });\n    });\n  };\n\n  /**\n     * Start ajax processing\n     * @return string\n     */\n  var processing = function() {\n    // Show loader gif\n    cache.get('.wpstg-loader').show();\n\n    // Show logging window\n    cache.get('.wpstg-log-details').show();\n\n    // Get clone id\n    const cloneID = cache.get('#wpstg-push-changes').data('clone');\n\n    const deleteUploadsBeforePush = cache.get('#wpstg-delete-upload-before-pushing')[0].checked;\n    let backupUploadsBeforePush = false;\n    if (deleteUploadsBeforePush) {\n      backupUploadsBeforePush = cache.get('#wpstg-backup-upload-before-pushing')[0].checked;\n    }\n\n    let includedTables = getSelectedTablesToPush();\n    let excludedTables = getExcludedTables();\n    let allTablesExcluded = false;\n\n    if (includedTables.length > excludedTables.length) {\n      includedTables = '';\n    } else if (excludedTables.length > includedTables.length) {\n      excludedTables = '';\n      allTablesExcluded = includedTables === '';\n    }\n\n    WPStaging.ajax(\n        {\n          action: 'wpstg_push_processing',\n          accessToken: wpstg.accessToken,\n          nonce: wpstg.nonce,\n          clone: cloneID,\n          includedTables: includedTables,\n          excludedTables: excludedTables,\n          allTablesExcluded: allTablesExcluded,\n          selectedTablesWithoutPrefix: getSelectedTablesWithoutPrefix(),\n          includedDirectories: getIncludedDirectories(),\n          excludedDirectories: getExcludedDirectories(),\n          extraDirectories: getIncludedExtraDirectories(),\n          createBackupBeforePushing: cache.get('#wpstg-create-backup-before-pushing')[0].checked,\n          deletePluginsAndThemes: cache.get('#wpstg-remove-uninstalled-plugins-themes')[0].checked,\n          deleteUploadsBeforePushing: deleteUploadsBeforePush,\n          backupUploadsBeforePushing: backupUploadsBeforePush,\n        },\n        function(response) {\n          // Undefined Error\n          if (false === response) {\n            showError(\n                'Something went wrong! Error: No response.  Go to WP Staging > Settings and lower \\'File Copy Limit\\' and \\'DB Query Limit\\'. Also set \\'CPU Load Priority to low \\'' +\n                        'and try again. If that does not help, ' +\n                        '<a href=\\'https://wp-staging.com/support/\\' target=\\'_blank\\'>open a support ticket</a> ',\n            );\n            cache.get('.wpstg-loader').hide();\n            window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n            return;\n          }\n\n          // Throw Error\n          if ('undefined' !== typeof (response.error) && response.error) {\n            WPStaging.showError(\n                'Something went wrong! Error: ' + response.message + '.  Go to WP Staging > Settings and lower \\'File Copy Limit\\' and \\'DB Query Limit\\'. Also set \\'CPU Load Priority to low \\'' +\n                        'and try again. If that does not help, ' +\n                        '<a href=\\'https://wp-staging.com/support/\\' target=\\'_blank\\'>open a support ticket</a> ',\n            );\n            window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n            return;\n          }\n\n          // Add Log messages\n          if ('undefined' !== typeof (response.last_msg) && response.last_msg) {\n            WPStaging.getLogs(response.last_msg);\n          }\n\n          // Continue processing\n          if (false === response.status) {\n            progressBar(response);\n            setTimeout(function() {\n              cache.get('.wpstg-loader').show();\n              processing();\n            }, wpstg.delayReq);\n          } else if (true === response.status) {\n            progressBar(response);\n            processing();\n          } else if ('finished' === response.status || ('undefined' !== typeof (response.job_done) && response.job_done)) {\n            window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n            isFinished(response);\n          }\n        },\n        'json',\n        false,\n    );\n  };\n\n  /**\n     * Test database connection\n     * @return object\n     */\n  const connectDatabase = function() {\n    const $workFlow = cache.get('#wpstg-workflow');\n    $workFlow.on('click', '#wpstg-db-connect', function(e) {\n      e.preventDefault();\n      cache.get('.wpstg-loader').show();\n      cache.get('#wpstg-db-status').hide();\n      WPStaging.ajax(\n          {\n            action: 'wpstg_database_connect',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n            databaseUser: cache.get('#wpstg_db_username').val(),\n            databasePassword: cache.get('#wpstg_db_password').val(),\n            databaseServer: cache.get('#wpstg_db_server').val(),\n            databaseDatabase: cache.get('#wpstg_db_database').val(),\n            databasePrefix: cache.get('#wpstg_db_prefix').val(),\n          },\n          function(response) {\n            // Undefined Error\n            if (false === response) {\n              showError(\n                  'Something went wrong! Error: No response.' +\n                            'Please try again. If that does not help, ' +\n                            '<a href=\\'https://wp-staging.com/support/\\' target=\\'_blank\\'>open a support ticket</a> ',\n              );\n              cache.get('.wpstg-loader').hide();\n              cache.get('#wpstg-db-status').remove();\n              cache.get('#wpstg-error-details').hide();\n              cache.get('#wpstg-db-connect').after('<span id=\"wpstg-db-status\" class=\"wpstg-failed\"> Failed</span>');\n              return;\n            }\n\n            // Throw Error\n            if ('undefined' !== typeof (response.errors) && response.errors) {\n              WPStaging.showError(\n                  'Something went wrong! Error: ' + response.errors +\n                            ' Please try again. If that does not help, ' +\n                            '<a href=\\'https://wp-staging.com/support/\\' target=\\'_blank\\'>open a support ticket</a> ',\n              );\n              cache.get('.wpstg-loader').hide();\n              cache.get('#wpstg-db-status').hide();\n              cache.get('#wpstg-db-error').remove();\n              cache.get('#wpstg-db-connect').after('<span id=\"wpstg-db-status\" class=\"wpstg-failed\"> Failed</span><br/><span id=\"wpstg-db-error\" class=\"wpstg--red\">Error: ' + response.errors + '</span>');\n              return;\n            }\n\n            if ('undefined' !== typeof (response.success) && response.success) {\n              cache.get('.wpstg-loader').hide();\n              cache.get('#wpstg-db-status').hide();\n              cache.get('#wpstg-error-details').hide();\n              cache.get('#wpstg-db-error').hide();\n              cache.get('#wpstg-db-connect').after('<span id=\"wpstg-db-status\" class=\"wpstg-success\"> Success</span>');\n            }\n          },\n          'json',\n          false,\n      );\n    });\n\n    // Make form fields editable\n    $workFlow.on('click', '#wpstg-ext-db', function() {\n      if (this.checked) {\n        cache.get('#wpstg_db_server').removeAttr('readonly');\n        cache.get('#wpstg_db_username').removeAttr('readonly');\n        cache.get('#wpstg_db_password').removeAttr('readonly');\n        cache.get('#wpstg_db_database').removeAttr('readonly');\n        cache.get('#wpstg_db_prefix').removeAttr('readonly');\n      } else {\n        cache.get('#wpstg_db_server').attr('readonly', true).val('');\n        cache.get('#wpstg_db_username').attr('readonly', true).val('');\n        cache.get('#wpstg_db_password').attr('readonly', true).val('');\n        cache.get('#wpstg_db_database').attr('readonly', true).val('');\n        cache.get('#wpstg_db_prefix').attr('readonly', true).val('');\n      }\n    });\n  };\n\n  const editCloneData = function() {\n    // Scan db and file system\n    const $workFlow = cache.get('#wpstg-workflow');\n\n    $workFlow\n    // Load scanning data\n        .on('click', '.wpstg-edit-clone-data', function(e) {\n          e.preventDefault();\n\n          const $this = $(this);\n\n          // Disable button\n          if ($this.attr('disabled')) {\n            return false;\n          }\n\n          // Get clone id\n          const cloneID = $(this).data('clone');\n\n          // Prepare data\n          that.data = {\n            action: 'wpstg_edit_clone_data',\n            clone: cloneID,\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n          };\n\n          // Send ajax request\n          WPStaging.ajax(\n              that.data,\n              function(response) {\n                $workFlow.html(response);\n              },\n              'HTML',\n          );\n        })\n        .on('click', '.wpstg-prev-step-link', function(e) {\n          e.preventDefault();\n          WPStaging.loadOverview();\n        })\n        .on('click', '#wpstg-save-clone-data', function(e) {\n          e.preventDefault();\n\n          const idPrefix = '#wpstg-edit-clone-data-';\n          const cloneID = cache.get(idPrefix + 'clone-id').val();\n          const cloneName = cache.get(idPrefix + 'clone-name').val();\n          const directoryName = cache.get(idPrefix + 'directory-name').val();\n          const path = cache.get(idPrefix + 'path').val();\n          const url = cache.get(idPrefix + 'url').val();\n          const prefix = cache.get(idPrefix + 'prefix').val();\n          const externalDBUser = cache.get(idPrefix + 'database-user').val();\n          const externalDBPassword = cache.get(idPrefix + 'database-password').val();\n          const externalDBDatabase = cache.get(idPrefix + 'database-database').val();\n          const externalDBHost = cache.get(idPrefix + 'database-server').val();\n          const externalDBPrefix = cache.get(idPrefix + 'database-prefix').val();\n\n          // Prepare data\n          that.data = {\n            action: 'wpstg_save_clone_data',\n            clone: cloneID,\n            cloneName: cloneName,\n            directoryName: directoryName,\n            path: path,\n            url: url,\n            prefix: prefix,\n            externalDBUser: externalDBUser,\n            externalDBPassword: externalDBPassword,\n            externalDBDatabase: externalDBDatabase,\n            externalDBHost: externalDBHost,\n            externalDBPrefix: externalDBPrefix,\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n          };\n\n          WPStaging.ajax(\n              that.data,\n              function(response) {\n                if (response === 'Success') {\n                  WPStaging.loadOverview();\n                } else {\n                  alert(response);\n                }\n              },\n              'HTML',\n          );\n        });\n  };\n\n  /**\n     * All jobs are finished\n     * @param {object} response\n     * @return object\n     */\n  var isFinished = function(response) {\n    progressBar(response);\n    cache.get('.wpstg-loader').text('Finished');\n    cache.get('.wpstg-loader').addClass('wpstg-finished');\n    cache.get('.wpstg-prev-step-link').attr('disabled', false);\n\n    WPStagingCommon.getSwalModal(true, {\n      confirmButton: 'wpstg--btn--confirm wpstg-green-button wpstg-button wpstg-link-btn wpstg-100-width',\n      popup: 'wpstg-swal-popup wpstg-push-finished centered-modal',\n    }).fire({\n      title: 'Push successful!',\n      icon: 'success',\n      html: /* 'Go to <a href=\"options-permalink.php\">Permalinks</a> and save them again. <br>'+*/'Delete site cache if required!',\n      width: '500px',\n      focusConfirm: true,\n    });\n  };\n\n  /**\n     * Get Included (Selected) Prefixed Database Tables\n     * @return {Array}\n     */\n  var getSelectedTablesToPush = function() {\n    if (that.tableSelector === null) {\n      return '';\n    }\n\n    return that.tableSelector.getIncludedTables();\n  };\n\n  /**\n     * Get Excluded (Unchecked) Prefixed Database Tables\n     * @return {Array}\n     */\n  var getExcludedTables = function() {\n    if (that.tableSelector === null) {\n      return '';\n    }\n\n    return that.tableSelector.getExcludedTables();\n  };\n\n  /**\n     * Get Non prefixed selected Database Tables\n     * @return {Array}\n     */\n  var getSelectedTablesWithoutPrefix = function() {\n    if (that.tableSelector === null) {\n      return '';\n    }\n\n    return that.tableSelector.getSelectedTablesWithoutPrefix();\n  };\n\n\n  /**\n     * A confirmation modal\n     *\n     * @param html\n     * @param confirmText\n     * @param confirmButtonClass\n     * @return Promise\n     */\n  var confirmModal = function(title, html, confirmText, confirmButtonClass) {\n    return WPStagingCommon.getSwalModal(false, {\n      container: 'wpstg-swal-push-container',\n      confirmButton: confirmButtonClass + ' wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn',\n    }).fire({\n      title: title,\n      icon: 'warning',\n      html: html,\n      width: '750px',\n      focusConfirm: false,\n      confirmButtonText: confirmText,\n      showCancelButton: true,\n    });\n  };\n\n  /**\n     * Get Included Directories\n     * @return {Array}\n     */\n  var getIncludedDirectories = function() {\n    const includedDirectories = [];\n\n    $('.wpstg-dir input:checked').each(function() {\n      const $this = $(this);\n      if (!$this.parent('.wpstg-dir').parents('.wpstg-dir').children('.wpstg-expand-dirs').hasClass('disabled')) {\n        includedDirectories.push($this.val());\n      }\n    });\n\n    return includedDirectories;\n  };\n\n  /**\n     * Get Excluded Directories\n     * @return {Array}\n     */\n  var getExcludedDirectories = function() {\n    const excludedDirectories = [];\n\n    $('.wpstg-dir input:not(:checked)').each(function() {\n      const $this = $(this);\n      excludedDirectories.push($this.val());\n    });\n\n    return excludedDirectories;\n  };\n\n  /**\n     * Get Included Extra Directories\n     * @return {Array}\n     */\n  var getIncludedExtraDirectories = function() {\n    var extraDirectories = [];\n\n    if (!$('#wpstg_extraDirectories').val()) {\n      return extraDirectories;\n    }\n\n    var extraDirectories = $('#wpstg_extraDirectories').val().split(/\\r?\\n/);\n\n    return extraDirectories;\n  };\n\n  var progressBar = function(response, restart) {\n    if ('undefined' === typeof (response.percentage)) {\n      return false;\n    }\n\n    if (response.job === 'JobCreateBackup') {\n      cache.get('#wpstg-progress-backup').width(response.percentage * 0.15 + '%').html(response.percentage + '%');\n      cache.get('#wpstg-processing-status').html(response.percentage.toFixed(0) + '%' + ' - Step 1 of 4 Creating backup...');\n    }\n\n    if (response.job === 'jobFileScanning' || response.job === 'jobCopy') {\n      cache.get('#wpstg-progress-backup').css('background-color', '#3bc36b');\n      cache.get('#wpstg-progress-backup').html('1. Backup');\n      // Assumption: All previous steps are done.\n      // This avoids bugs where some steps are skipped and the progress bar is incomplete as a result\n      cache.get('#wpstg-progress-backup').width('15%');\n\n      let percentage;\n      if (response.job === 'jobFileScanning') {\n        percentage = response.percentage / 2;\n      } else {\n        percentage = 50 + response.percentage / 2;\n      }\n\n      cache.get('#wpstg-progress-files').width(percentage * 0.3 + '%').html(percentage.toFixed(0) + '%');\n      cache.get('#wpstg-processing-status').html(percentage.toFixed(0) + '%' + ' - Step 2 of 4 Copying files...');\n    }\n\n    if (response.job === 'jobCopyDatabaseTmp' || response.job === 'jobSearchReplace' || response.job === 'jobData') {\n      cache.get('#wpstg-progress-files').css('background-color', '#3bc36b');\n      cache.get('#wpstg-progress-files').html('2. Files');\n      cache.get('#wpstg-progress-files').width('30%');\n\n      let percentage = 0;\n      if (response.job === 'jobCopyDatabaseTmp') {\n        percentage = response.percentage / 3;\n      } else if (response.job === 'jobSearchReplace') {\n        percentage = 100 / 3 + response.percentage / 3;\n      } else {\n        percentage = 200 / 3 + response.percentage / 3;\n      }\n\n      cache.get('#wpstg-progress-data').width(percentage * 0.4 + '%').html(percentage.toFixed(0) + '%');\n      cache.get('#wpstg-processing-status').html(percentage.toFixed(0) + '%' + ' - Step 3 of 4 Copying data...');\n    }\n    if (response.job === 'jobDatabaseRename') {\n      cache.get('#wpstg-progress-data').css('background-color', '#3bc36b');\n      cache.get('#wpstg-progress-data').html('3. Data');\n      cache.get('#wpstg-progress-data').width('40%');\n\n      cache.get('#wpstg-progress-finishing').width(response.percentage * 0.15 + '%').html(response.percentage + '%');\n      cache.get('#wpstg-processing-status').html(response.percentage.toFixed(0) + '%' + ' - Step 4 of 4 Finishing migration...');\n    }\n    if (response.status === 'finished') {\n      cache.get('#wpstg-progress-finishing').css('background-color', '#3bc36b');\n      cache.get('#wpstg-progress-finishing').html('4. Finishing migration');\n      cache.get('#wpstg-progress-finishing').width('15%');\n\n      cache.get('#wpstg-processing-status').html(response.percentage.toFixed(0) + '%' + ' - Pushing Process Finished');\n    }\n  };\n\n  that.init = function() {\n    startProcess();\n    startScanning();\n    connectDatabase();\n    editCloneData();\n    new WpstgCloneEdit();\n    new WpstgRemoteStorage();\n  };\n\n  return that;\n}(jQuery);\n\njQuery(document).ready(function($) {\n  WPStagingPro.init();\n\n  jQuery(document).on('click', '#wpstg-update-mail-settings', function(e) {\n    e.preventDefault();\n\n    $('#wpstg-update-mail-settings').attr('disabled', 'disabled');\n    const data = {\n      action: 'wpstg_update_staging_mail_settings',\n      emailsAllowed: $('#wpstg_allow_emails').is(':checked'),\n      accessToken: wpstg.accessToken,\n      nonce: wpstg.nonce,\n    };\n\n    jQuery.ajax({\n      url: ajaxurl,\n      type: 'POST',\n      data: data,\n      error: function(xhr, textStatus, errorThrown) {\n        WPStagingCommon.getSwalModal().fire(\n            'Unknown error',\n            'Please get in contact with us to solve it support@wp-staging.com',\n            'error',\n        );\n      },\n      success: function(response) {\n        let alertType = 'error';\n        if (response.success) {\n          alertType = 'success';\n        }\n\n        WPStagingCommon.getSwalModal().fire('', response.message, alertType).then(function() {\n          jQuery('.wpstg-mails-notice').slideUp('fast');\n        });\n        $('#wpstg-update-mail-settings').removeAttr('disabled');\n        return true;\n      },\n      statusCode: {\n        404: function() {\n          WPStagingCommon.getSwalModal().fire(\n              '404',\n              'Something went wrong; can\\'t find ajax request URL! Please get in contact with us to solve it support@wp-staging.com',\n              'error',\n          );\n        },\n        500: function() {\n          WPStagingCommon.getSwalModal().fire(\n              '500',\n              'Something went wrong; internal server error while processing the request! Please get in contact with us to solve it support@wp-staging.com',\n              'error',\n          );\n        },\n      },\n    });\n  });\n});\n\n// export default {}\n","import wpstgHoverIntent from './modules/wpstg-hover-intent';\n\nexport default (function($) {\n  const WPStagingCommon = {\n    continueErrorHandle: true,\n    cache: {\n      elements: [],\n      get: function(selector) {\n        // It is already cached!\n        if ($.inArray(selector, this.elements) !== -1) {\n          return this.elements[selector];\n        }\n\n        // Create cache and return\n        this.elements[selector] = $(selector);\n\n        return this.elements[selector];\n      },\n      refresh: function(selector) {\n        selector.elements[selector] = $(selector);\n      },\n    },\n    setJobId: function(jobId) {\n      localStorage.setItem('jobIdBeingProcessed', jobId);\n    },\n    getJobId: function() {\n      return localStorage.getItem('jobIdBeingProcessed');\n    },\n    listenTooltip: function() {\n      wpstgHoverIntent(document, '.wpstg--tooltip', function(target, event) {\n        target.querySelector('.wpstg--tooltiptext').style.visibility = 'visible';\n      }, function(target, event) {\n        target.querySelector('.wpstg--tooltiptext').style.visibility = 'hidden';\n      });\n    },\n    isEmpty: function(obj) {\n      for (const prop in obj) {\n        if (obj.hasOwnProperty(prop)) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n    // Get the custom themed Swal Modal for WP Staging\n    // Easy to maintain now in one place now\n    getSwalModal: function(isContentCentered = false, customClasses = {}) {\n      // common style for all swal modal used in WP Staging\n      const defaultCustomClasses = {\n        confirmButton: 'wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn wpstg-100-width',\n        cancelButton: 'wpstg--btn--cancel wpstg-blue-primary wpstg-link-btn wpstg-100-width',\n        actions: 'wpstg--modal--actions',\n        popup: isContentCentered ? 'wpstg-swal-popup centered-modal' : 'wpstg-swal-popup',\n      };\n\n      // If a attribute exists in both default and additional attributes,\n      // The class(es) of the additional attribute will overrite the default one.\n      const options = {\n        customClass: Object.assign(defaultCustomClasses, customClasses),\n        buttonsStyling: false,\n        reverseButtons: true,\n        showClass: {\n          popup: 'wpstg--swal2-show wpstg-swal-show',\n        },\n      };\n\n      return wpstgSwal.mixin(options);\n    },\n    showSuccessModal: function(htmlContent) {\n      this.getSwalModal().fire({\n        showConfirmButton: false,\n        showCancelButton: true,\n        cancelButtonText: 'OK',\n        icon: 'success',\n        title: 'Success!',\n        html: '<div class=\"wpstg--grey\" style=\"text-align: left; margin-top: 8px;\">' + htmlContent + '</div>',\n      });\n    },\n    showWarningModal: function(htmlContent) {\n      this.getSwalModal().fire({\n        showConfirmButton: false,\n        showCancelButton: true,\n        cancelButtonText: 'OK',\n        icon: 'warning',\n        title: '',\n        html: '<div class=\"wpstg--grey\" style=\"text-align: left; margin-top: 8px;\">' + htmlContent + '</div>',\n      });\n    },\n    showErrorModal: function(htmlContent) {\n      this.getSwalModal().fire({\n        showConfirmButton: false,\n        showCancelButton: true,\n        cancelButtonText: 'OK',\n        icon: 'error',\n        title: 'Error!',\n        html: '<div class=\"wpstg--grey\" style=\"text-align: left; margin-top: 8px;\">' + htmlContent + '</div>',\n      });\n    },\n    getSwalContainer: function() {\n      return wpstgSwal.getContainer();\n    },\n    closeSwalModal: function() {\n      wpstgSwal.close();\n    },\n    /**\n     * Treats a default response object generated by WordPress's\n     * wp_send_json_success() or wp_send_json_error() functions in\n     * PHP, parses it in JavaScript, and either throws if it's an error,\n     * or returns the data if the response is successful.\n     *\n     * @param {object} response\n     * @return {*}\n     */\n    getDataFromWordPressResponse(response) {\n      if (typeof response !== 'object') {\n        throw new Error('Unexpected response (ERR 1341)');\n      }\n\n      if (!response.hasOwnProperty('success')) {\n        throw new Error('Unexpected response (ERR 1342)');\n      }\n\n      if (!response.hasOwnProperty('data')) {\n        throw new Error('Unexpected response (ERR 1343)');\n      }\n\n      if (response.success === false) {\n        if (response.data instanceof Array && response.data.length > 0) {\n          throw new Error(response.data.shift());\n        } else {\n          throw new Error('Response was not successful');\n        }\n      } else {\n        // Successful response. Return the data.\n        return response.data;\n      }\n    },\n    isLoading: function(isLoading) {\n      if (!isLoading || isLoading === false) {\n        WPStagingCommon.cache.get('.wpstg-loader').hide();\n      } else {\n        WPStagingCommon.cache.get('.wpstg-loader').show();\n      }\n    },\n    /**\n     * Convert the given url to make it slug compatible\n     * @param {string} url\n     * @return {string}\n     */\n    slugify: function(url) {\n      return url.toString()\n          .toLowerCase()\n          .normalize('NFD')\n          .replace(/[\\u0300-\\u036f]/g, '')\n          .replace(/\\s+/g, '-')\n          .replace(/&/g, '-and-')\n          .replace(/[^a-z0-9\\-]/g, '')\n          .replace(/-+/g, '-')\n          .replace(/^-*/, '')\n          .replace(/-*$/, '')\n      ;\n    },\n    showAjaxFatalError: function(response, prependMessage, appendMessage) {\n      prependMessage = prependMessage ? prependMessage + '<br/><br/>' : 'Something went wrong! <br/><br/>';\n      appendMessage = appendMessage ? appendMessage + '<br/><br/>' : '<br/><br/>Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.';\n\n      if (response === false) {\n        WPStagingCommon.showError(prependMessage + ' Error: No response.' + appendMessage);\n        window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n        return;\n      }\n\n      if (typeof response.error !== 'undefined' && response.error) {\n        WPStagingCommon.showError(prependMessage + ' Error: ' + response.message + appendMessage);\n        window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n        return;\n      }\n    },\n    handleFetchErrors: function(response) {\n      if (!response.ok) {\n        WPStagingCommon.showError('Error: ' + response.status + ' - ' + response.statusText + '. Please try again or contact support.');\n      }\n      return response;\n    },\n    showError: function(message) {\n      WPStagingCommon.cache.get('#wpstg-try-again').css('display', 'inline-block');\n      WPStagingCommon.cache.get('#wpstg-cancel-cloning').text('Reset');\n      WPStagingCommon.cache.get('#wpstg-resume-cloning').show();\n      WPStagingCommon.cache.get('#wpstg-error-wrapper').show();\n      WPStagingCommon.cache.get('#wpstg-error-details').show().html(message);\n      WPStagingCommon.cache.get('#wpstg-removing-clone').removeClass('loading');\n      WPStagingCommon.cache.get('.wpstg-loader').hide();\n      $('.wpstg--modal--process--generic-problem').show().html(message);\n    },\n    resetErrors: function() {\n      WPStagingCommon.cache.get('#wpstg-error-details').hide().html('');\n    },\n    /**\n     * Ajax Requests\n     * @param {Object} data\n     * @param {Function} callback\n     * @param {string} dataType\n     * @param {bool} showErrors\n     * @param {int} tryCount\n     * @param {float} incrementRatio\n     * @param {function} errorCallback\n     */\n    ajax: function(data, callback, dataType, showErrors, tryCount, incrementRatio = null, errorCallback = null) {\n      if ('undefined' === typeof (dataType)) {\n        dataType = 'json';\n      }\n\n      if (false !== showErrors) {\n        showErrors = true;\n      }\n\n      tryCount = 'undefined' === typeof (tryCount) ? 0 : tryCount;\n\n      const retryLimit = 10;\n\n      let retryTimeout = 10000 * tryCount;\n\n      incrementRatio = parseInt(incrementRatio);\n      if (!isNaN(incrementRatio)) {\n        retryTimeout *= incrementRatio;\n      }\n\n      $.ajax({\n        url: ajaxurl + '?action=wpstg_processing&_=' + (Date.now() / 1000),\n        type: 'POST',\n        dataType: dataType,\n        cache: false,\n        data: data,\n        error: function(xhr, textStatus, errorThrown) {\n          console.log(xhr.status + ' ' + xhr.statusText + '---' + textStatus);\n\n          if (typeof (errorCallback) === 'function') {\n            // Custom error handler\n            errorCallback(xhr, textStatus, errorThrown);\n\n            if (!WPStagingCommon.continueErrorHandle) {\n              // Reset state\n              WPStagingCommon.continueErrorHandle = true;\n\n              return;\n            }\n          }\n\n          // Default error handler\n          tryCount++;\n          if (tryCount <= retryLimit) {\n            setTimeout(function() {\n              WPStagingCommon.ajax(data, callback, dataType, showErrors, tryCount, incrementRatio);\n              return;\n            }, retryTimeout);\n          } else {\n            const errorCode = 'undefined' === typeof (xhr.status) ? 'Unknown' : xhr.status;\n            WPStagingCommon.showError(\n                'Fatal Error:  ' + errorCode + ' Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.',\n            );\n          }\n        },\n        success: function(data) {\n          if ('function' === typeof (callback)) {\n            callback(data);\n          }\n        },\n        statusCode: {\n          404: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 404 - Can\\'t find ajax request URL! Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.');\n            }\n          },\n          500: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Fatal Error 500 - Internal server error while processing the request! Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.');\n            }\n          },\n          504: function() {\n            if (tryCount > retryLimit) {\n              WPStagingCommon.showError('Error 504 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          502: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 502 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          503: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 503 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          429: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 429 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          403: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Refresh page or login again! The process should be finished successfully. \\n\\ ');\n            }\n          },\n        },\n      });\n    },\n  };\n\n  return WPStagingCommon;\n})(jQuery);\n"],"names":["qs","selector","document","querySelector","addEvent","parent","evt","handler","Element","addEventListener","event","target","matches","closest","prototype","msMatchesSelector","webkitMatchesSelector","s","el","this","call","parentElement","parentNode","nodeType","WpstgCloneEdit","workflowSelector","dbCheckTriggerClass","wpstgObject","databaseCheckAction","wpstg","workflow","dom","dbCheckTimer","abortDbCheckController","dbCheckCallStatus","notyf","Notyf","duration","position","x","y","dismissible","types","type","background","icon","init","addEvents","forEach","_this","abort","clearTimeout","setTimeout","checkDatabase","idPrefix","externalDBUser","value","externalDBPassword","externalDBDatabase","externalDBHost","externalDBPrefix","AbortController","fetch","ajaxUrl","method","signal","credentials","body","URLSearchParams","action","accessToken","nonce","databaseUser","databasePassword","databaseServer","databaseDatabase","databasePrefix","databaseEnsurePrefixTableExist","headers","then","response","_this2","ok","json","Promise","reject","data","dismissAll","error","i18n","disabled","errors","success","open","message","console","warn","WpstgPushTableSelection","inputSelector","input","cloneID","getAttribute","tablePrefix","isNetwork","areAllTablesChecked","showAllTables","selectDefaultTables","toggleTableSelection","countSelectedTables","includedTables","getIncludedTables","excludedTables","getExcludedTables","length","clone","selectedTablesWithoutPrefix","getSelectedTablesWithoutPrefix","innerHTML","content","element","style","opacity","transitionProperty","transitionDuration","window","display","removeProperty","getRegexPattern","pattern","isMultisite","options","querySelectorAll","option","match","selected","regexPattern","name","push","join","settings","directorySeparator","tables","tablesCount","tablesCountElement","classList","add","remove","replace","WpstgPushFileSelection","filesTabSelector","dirSelector","filesTab","toggleChildren","countSelectedFiles","result","cb","checked","filesCount","filesCountElement","themesCount","pluginsCount","head","nextSibling","WpstgRemoteStorage","revokeButtonSelector","revokeProviderFormSelector","revokeAction","settingsButtonSelector","settingsFormSelector","settingsAction","authenticateButtonSelector","authenticateFormSelector","authenticateAction","testConnectionButtonSelector","testConnectionFieldsSelector","testConnectionAction","revokeForm","settingsForm","authenticateForm","testConnectionFields","sendRevokeRequest","sendSettingsRequest","sendAuthenticateRequest","sendTestConnectionRequest","toggleSftpFields","provider","status","location","reload","formData","FormData","append","queryString","fields","ftpType","sftpElements","ftpElements","onOver","onOut","pX","pY","mouseOver","focused","h","state","timer","sensitivity","interval","timeout","handleFocus","tracker","e","clientX","clientY","compare","Math","abs","undefined","dispatchOver","removeEventListener","onMouseOver","dispatchOut","delay","onMouseOut","onFocus","onBlur","removeFocus","opt","focusOptionChanged","Object","assign","$","that","cache","processing","isFinished","getSelectedTablesToPush","confirmModal","getIncludedDirectories","getExcludedDirectories","getIncludedExtraDirectories","progressBar","WPStagingCommon","continueErrorHandle","elements","get","inArray","refresh","setJobId","jobId","localStorage","setItem","getJobId","getItem","listenTooltip","wpstgHoverIntent","visibility","isEmpty","obj","prop","hasOwnProperty","getSwalModal","isContentCentered","customClasses","defaultCustomClasses","confirmButton","cancelButton","actions","popup","customClass","buttonsStyling","reverseButtons","showClass","wpstgSwal","mixin","showSuccessModal","htmlContent","fire","showConfirmButton","showCancelButton","cancelButtonText","title","html","showWarningModal","showErrorModal","getSwalContainer","getContainer","closeSwalModal","close","getDataFromWordPressResponse","Error","Array","shift","isLoading","show","hide","slugify","url","toString","toLowerCase","normalize","showAjaxFatalError","prependMessage","appendMessage","showError","WPStaging","warnIfClosingDuringProcess","handleFetchErrors","statusText","css","text","removeClass","resetErrors","ajax","callback","dataType","showErrors","tryCount","incrementRatio","errorCallback","retryLimit","retryTimeout","parseInt","isNaN","ajaxurl","Date","now","xhr","textStatus","errorThrown","log","errorCode","statusCode","jQuery","WPStagingPro","deleteUploadsBeforePush","backupUploadsBeforePush","allTablesExcluded","includedDirectories","excludedDirectories","extraDirectories","createBackupBeforePushing","deletePluginsAndThemes","deleteUploadsBeforePushing","backupUploadsBeforePushing","last_msg","getLogs","delayReq","job_done","addClass","attr","width","focusConfirm","tableSelector","confirmText","confirmButtonClass","container","confirmButtonText","each","$this","parents","children","hasClass","val","split","restart","percentage","job","toFixed","isCancelled","fileSelector","$workFlow","on","preventDefault","cloneName","switchStep","loadOverview","currentTarget","removeAttr","after","connectDatabase","directoryName","path","prefix","alert","editCloneData","ready","emailsAllowed","is","alertType","slideUp"],"mappings":"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"}